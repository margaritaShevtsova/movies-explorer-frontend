(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo_main-1.f43312f8.svg"},,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/arrow.c04e6559.svg"},,,function(e,a,t){e.exports=t.p+"static/media/student.1ec56c8d.png"},,function(e,a,t){e.exports=t.p+"static/media/Success.e38b395c.svg"},function(e,a,t){e.exports=t.p+"static/media/Fale.4072126c.svg"},,function(e,a,t){e.exports=t(82)},,,,,,,,,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),r=t(21),s=t.n(r),l=(t(36),t(6)),i=t(3),o=(t(40),Object(n.createContext)()),m=Object(n.createContext)(),u=t(0),d=(t(42),t(10)),_=t.n(d),h=t(5);t(44);var p=function(e){var a=e.handleClose,t=e.activeItem,r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1];return Object(n.useEffect)(function(){setTimeout(function(){o(!0)},500)},[]),c.a.createElement("nav",{className:"nav ".concat(l&&"nav_active")},c.a.createElement("ul",{className:"nav__list"},c.a.createElement("li",{className:"nav__item"},c.a.createElement(h.c,{className:"nav__link ".concat("none"===t&&"nav__link_active"),to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),c.a.createElement("li",{className:"nav__item"},c.a.createElement(h.c,{className:"nav__link ".concat("movies"===t&&"nav__link_active"),to:"/movies"},"\u0424\u0438\u043b\u044c\u043c\u044b")),c.a.createElement("li",{className:"nav__item"},c.a.createElement(h.c,{className:"nav__link ".concat("saved-movies"===t&&"nav__link_active"),to:"/saved-movies"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"))),c.a.createElement(h.b,{className:"nav__link_type_profile",to:"/profile"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),c.a.createElement("button",{type:"button",className:"nav__close-btn",onClick:a}))};var f=function(e){var a=e.isLoggedIn,t=e.activeItem,r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1];return c.a.createElement("header",{className:"header"},c.a.createElement(h.b,{to:"/"},c.a.createElement("img",{src:_.a,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"})),a?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"header__wrapper"},c.a.createElement(h.b,{className:"header__link ".concat("movies"===t?"header__link_type_movies-active":"header__link_type_movies"),to:"/movies",replace:!0},"\u0424\u0438\u043b\u044c\u043c\u044b"),c.a.createElement(h.b,{className:"header__link ".concat("saved-movies"===t?"header__link_type_movies-active":"header__link_type_movies"),to:"/saved-movies",replace:!0},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),c.a.createElement(h.b,{className:"header__link header__link_type_profile",to:"/profile",replace:!0},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),c.a.createElement("button",{className:"burger",onClick:function(){o(!0)}},c.a.createElement("span",{className:"burger-line"}),c.a.createElement("span",{className:"burger-line"}),c.a.createElement("span",{className:"burger-line"})),l&&c.a.createElement(p,{handleClose:function(){o(!1)},activeItem:t})):c.a.createElement("div",null,c.a.createElement(h.b,{className:"header__link header__link_type_register",to:"/signup",replace:!0},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement(h.b,{className:"header__link header__link_type_signin",to:"/signin",replace:!0},"\u0412\u043e\u0439\u0442\u0438")))},E=t(18),v=t.n(E);t(46);var g=function(){return c.a.createElement("section",{className:"promo"},c.a.createElement("div",{className:"promo__content"},c.a.createElement("h1",{className:"promo__title"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."),c.a.createElement("ul",{className:"promo__list"},c.a.createElement("li",{className:"promo__item"},c.a.createElement(v.a,{href:"#project",className:"promo__link"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435")),c.a.createElement("li",{className:"promo__item"},c.a.createElement(v.a,{href:"#techs",className:"promo__link"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438")),c.a.createElement("li",{className:"promo__item"},c.a.createElement(v.a,{href:"#aboutMe",className:"promo__link"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442")))))};t(48);var b=function(){return c.a.createElement("section",{className:"project",id:"project"},c.a.createElement("h2",{className:"project__title"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),c.a.createElement("div",{className:"project__desc-wrapper"},c.a.createElement("div",{className:"project__wrapper"},c.a.createElement("h3",{className:"project__subtitle"},"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"),c.a.createElement("p",{className:"project__description"},"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")),c.a.createElement("div",{className:"project__wrapper"},c.a.createElement("h3",{className:"project__subtitle"},"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"),c.a.createElement("p",{className:"project__description"},"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."))),c.a.createElement("div",{className:"project__info"},c.a.createElement("div",{className:"project__block"},c.a.createElement("span",{className:"project__block-left"},"1 \u043d\u0435\u0434\u0435\u043b\u044f"),c.a.createElement("span",{className:"project__caption"},"Back-end")),c.a.createElement("div",{className:"project__block"},c.a.createElement("span",{className:"project__block-right"},"4 \u043d\u0435\u0434\u0435\u043b\u0438"),c.a.createElement("span",{className:"project__caption"},"Front-end"))))};t(50);var N=function(){return c.a.createElement("section",{className:"techs",id:"techs"},c.a.createElement("h2",{className:"techs__title"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"),c.a.createElement("div",{className:"techs__content"},c.a.createElement("h3",{className:"techs__subtitle"},"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"),c.a.createElement("p",{className:"techs__descr"},"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."),c.a.createElement("ul",{className:"techs__list"},c.a.createElement("li",{className:"techs__item"},"HTML"),c.a.createElement("li",{className:"techs__item"},"CSS"),c.a.createElement("li",{className:"techs__item"},"JS"),c.a.createElement("li",{className:"techs__item"},"React"),c.a.createElement("li",{className:"techs__item"},"Git"),c.a.createElement("li",{className:"techs__item"},"Express.js"),c.a.createElement("li",{className:"techs__item"},"mongoDB"))))},k=(t(52),t(22)),j=t.n(k);var S=function(){return c.a.createElement("section",{className:"about-me",id:"aboutMe"},c.a.createElement("h2",{className:"about-me__title"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"),c.a.createElement("div",{className:"about-me__content"},c.a.createElement("div",{className:"about-me__block"},c.a.createElement("h3",{className:"about-me__subtitle"},"\u0412\u0438\u0442\u0430\u043b\u0438\u0439"),c.a.createElement("span",{className:"about-me__caption"},"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"),c.a.createElement("p",{className:"about-me__descr"},"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."),c.a.createElement("a",{className:"about-me__link",href:"https://github.com/margaritaShevtsova"},"Github")),c.a.createElement("img",{className:"about-me__image",src:j.a,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})))},O=(t(54),t(19)),C=t.n(O);var y=function(){return c.a.createElement("section",{className:"portfolio"},c.a.createElement("h2",{className:"portfolio__title"},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),c.a.createElement("ul",{className:"portfolio__list"},c.a.createElement("li",{className:"portfolio__item"},c.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://margaritashevtsova.github.io/russian-travel/"},c.a.createElement("p",{className:"portfolio__text"},"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),c.a.createElement("img",{className:"portfolio__img",src:C.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"}))),c.a.createElement("li",{className:"portfolio__item"},c.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://margaritashevtsova.github.io/mesto"},c.a.createElement("p",{className:"portfolio__text"},"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),c.a.createElement("img",{className:"portfolio__img",src:C.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"}))),c.a.createElement("li",{className:"portfolio__item"},c.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://shevtsova.mesto.nomoredomains.xyz"},c.a.createElement("p",{className:"portfolio__text"},"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),c.a.createElement("img",{className:"portfolio__img",src:C.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"})))))};t(56);var L=function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__descr"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."),c.a.createElement("div",{className:"footer__wrapper"},c.a.createElement("span",{className:"footer__caption"},"\xa9 2020"),c.a.createElement("div",{className:"footer__block"},c.a.createElement("a",{className:"footer__link",href:"https://practicum.yandex.ru"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"),c.a.createElement("a",{className:"footer__link",href:"https://github.com/margaritaShevtsova"},"Github"))))};var w=function(e){var a=e.isLoggedIn,t=e.activeItem;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{isLoggedIn:a,activeItem:t}),c.a.createElement("main",null,c.a.createElement(g,null),c.a.createElement(b,null),c.a.createElement(N,null),c.a.createElement(S,null),c.a.createElement(y,null)),c.a.createElement(L,null))};t(58),t(60),t(62);var I=function(e){var a=e.onHandleChange,t=e.isChecked;return c.a.createElement("div",{className:"checkbox"},c.a.createElement("input",{className:"checkbox__input",id:"check",type:"checkbox",checked:t,onChange:a}),c.a.createElement("label",{htmlFor:"check",className:"checkbox__label"},"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"))},x=t(4),M=t(12),R=t(23);function V(){var e=c.a.useState({}),a=Object(i.a)(e,2),t=a[0],r=a[1],s=c.a.useState({}),l=Object(i.a)(s,2),o=l[0],m=l[1],u=c.a.useState(!1),d=Object(i.a)(u,2),_=d[0],h=d[1],p=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(e),m(a),h(t)},[r,m,h]);return{values:t,setValues:r,handleChange:function(e){var a=e.target,n=a.name,c=a.value;"email"!==n||Object(R.a)(c)?(r(Object(M.a)({},t,Object(x.a)({},n,c))),m(Object(M.a)({},o,Object(x.a)({},n,a.validationMessage))),h(a.closest("form").checkValidity())):(r(Object(M.a)({},t,Object(x.a)({},n,c))),m(Object(M.a)({},o,Object(x.a)({},n,"E-mail \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d"))),h(!1))},errors:o,isValid:_,resetForm:p,setIsValid:h}}var q=function(e){var a=e.handleSearch,t=e.handleCheckboxChange,r=e.handleCheckboxChangeSaved,s=e.isChecked,l=e.searchValue,o=e.isLoading,m=e.cardsSettings,u=V(),d=u.values,_=u.setValues,h=u.handleChange,p=u.errors,f=u.isValid,E=Object(n.useState)(!1),v=Object(i.a)(E,2),g=v[0],b=v[1];return Object(n.useEffect)(function(){_({search:l}),l&&b(!0)},[]),c.a.createElement("section",{className:"search"},c.a.createElement("div",{className:"search__container"},c.a.createElement("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),a(d.search)}},c.a.createElement("div",{className:"search__wrapper"},c.a.createElement("input",{defaultValue:l,onChange:function(e){h(e),b(!1)},className:"search__input",name:"search",type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0,maxLength:"60",minLength:"1"}),c.a.createElement("span",{className:"search__error"},p.search&&"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),c.a.createElement("button",{className:"search__btn",type:"submit",disabled:!(!f&&g)&&!((f||g)&&!o)})),c.a.createElement(I,{onHandleChange:"savedCards"===m?function(){r(d.search)}:t,isChecked:s}))))};t(64),t(66);var D=function(e){var a=e.card,t=e.handleAddMovie,r=e.handleDeleteMovie,s=e.isSavedCards,l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],d=o[1],_=c.a.useContext(m),h=a.country,p=a.director,f=a.duration,E=a.year,v=a.description,g=a.trailerLink,b=a.nameRU,N=a.nameEN,k=a.id,j=s?a.image:"https://api.nomoreparties.co".concat(a.image.url),S=s?a.thumbnail:"https://api.nomoreparties.co".concat(a.image.formats.thumbnail.url);return Object(n.useEffect)(function(){a.id&&_&&_.map(function(e){e.movieId===a.id&&(d(!0),a._id=e._id)})},[a,u]),c.a.createElement("li",{className:"card"},c.a.createElement("a",{className:"card__link",href:a.trailerLink,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{className:"card__image",src:s?j:"https://api.nomoreparties.co".concat(a.image.url),alt:a.nameRU})),c.a.createElement("button",{className:s?"card__save-btn_active-delete":u&&!s?"card__save-btn_active":"card__save-btn",onClick:function(){u||s?r(a).then(function(){d(!1),a._id&&!_&&(a._id=null)}):t({country:h,director:p,duration:f,year:E,description:v,image:j,trailerLink:g,thumbnail:S,movieId:k,nameRU:b,nameEN:N}).then(function(){d(!0)})}},u||s?"":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.a.createElement("div",{className:"card__content"},c.a.createElement("h2",{className:"card__name"},a.nameRU),c.a.createElement("span",{className:"card__descr"},function(e){var a=Math.floor(e/60),t=e%60;return"".concat(a>0?"".concat(a,"\u0447"):""," ").concat(t>0?"".concat(t,"\u043c"):"")}(a.duration))))};function T(e){var a=function(e){return"undefined"!==typeof window&&window.matchMedia(e).matches},t=Object(n.useState)(a(e)),c=Object(i.a)(t,2),r=c[0],s=c[1];function l(){s(a(e))}return Object(n.useEffect)(function(){var a=window.matchMedia(e);return l(),a.addListener?a.addListener(l):a.addEventListener("change",l),function(){a.removeListener?a.removeListener(l):a.removeEventListener("change",l)}},[e]),r}var U=3,F=2,J=2,P=12,A=8,z=5,B="(min-width: 1260px)",G="(min-width: 480px)",H=40;var K=function(e){var a=e.cards,t=e.cardsSettings,r=e.isSubmitted,s=e.handleAddMovie,l=e.handleDeleteMovie,o=e.isSavedCards,m=e.successCardRequest,u=e.isOnSearch,d=T(B),_=T(G),h=d?U:_?F:J,p=d?P:_?A:z,f=c.a.useState(p),E=Object(i.a)(f,2),v=E[0],g=E[1];Object(n.useEffect)(function(){g(p)},[r]);var b=Math.floor(v/h)*h,N=function(){return d?g(v+U):_?g(v+F):void g(v+J)};return c.a.createElement("section",{className:"cards"},c.a.createElement("ul",{className:"cards__list"},0===a.length&&r&&u?c.a.createElement("span",{className:"cards__statement"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):a.length>0&&a.slice(0,b).map(function(e){return c.a.createElement(D,{key:e.id||e.movieId,card:e,handleAddMovie:s,handleDeleteMovie:l,isSavedCards:o,successCardRequest:m})})),b<a.length&&c.a.createElement("button",{className:"cards__btn ".concat("allCards"!==t&&"cards__btn_visibility_hidden"),onClick:function(){N()}},"\u0415\u0449\u0451"))},Q=(t(68),function(){return c.a.createElement("div",{className:"preloader"},c.a.createElement("div",{className:"preloader__container"},c.a.createElement("span",{className:"preloader__round"})))});function W(e,a,t){return function(e,a){return e.filter(function(e){return e.nameRU.toLowerCase().includes(a.toLowerCase())||e.nameEN.toLowerCase().includes(a.toLowerCase())})}(function(e,a){return e.filter(function(e){return a?e.duration<=H:e})}(e,t),a)}var X=t(7),Y=t(8),Z=new(function(){function e(a){var t=a.adress;Object(X.a)(this,e),this._adress=t}return Object(Y.a)(e,[{key:"_checkResponseStatus",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getMovies",value:function(){var e=this;return fetch(this._adress).then(function(a){return e._checkResponseStatus(a)})}}]),e}())({adress:"https://api.nomoreparties.co/beatfilm-movies"});var $=function(e){var a=e.activeItem,t=e.isLoggedIn,r=e.handleAddMovie,s=e.handleDeleteMovie,l=e.isSavedCards,o=e.successCardRequest,m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],_=u[1],h=c.a.useState(!1),p=Object(i.a)(h,2),E=p[0],v=p[1],g=c.a.useState([]),b=Object(i.a)(g,2),N=b[0],k=b[1],j=Object(n.useState)([]),S=Object(i.a)(j,2),O=S[0],C=S[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),I=w[0],x=w[1],M=Object(n.useState)(!1),R=Object(i.a)(M,2),V=R[0],D=R[1],T=Object(n.useState)(!1),U=Object(i.a)(T,2),F=U[0],J=U[1];return Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("searchSettings"));e&&(C(e.cards),x(e.searchValue),_(e.checked))},[]),Object(n.useEffect)(function(){N.length>0?(C(W(N,I,d)),localStorage.setItem("searchSettings",JSON.stringify({cards:W(N,I,d),searchValue:I,checked:d}))):O.length>0&&(C(W(O,I,d)),localStorage.setItem("searchSettings",JSON.stringify({cards:W(N,I,d),searchValue:I,checked:d})))},[d]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{isLoggedIn:t,activeItem:a}),c.a.createElement("main",null,c.a.createElement(q,{handleSearch:function(e){if(D(!1),0===N.length)return D(!1),v(!0),Z.getMovies().then(function(e){return k(e),e}).catch(function(e){return console.error(e)}).then(function(a){C(W(a,e,d)),localStorage.setItem("searchSettings",JSON.stringify({cards:W(a,e,d),searchValue:e,checked:d})),x(e)}).finally(function(){v(!1),D(!0),J(!0)});C(W(N,e,d)),localStorage.setItem("searchSettings",JSON.stringify({cards:W(N,e,d),searchValue:e,checked:d})),x(e)},isChecked:d,handleCheckboxChange:function(){_(!d)},searchValue:I,isLoading:E}),E?c.a.createElement(Q,null):c.a.createElement(K,{cards:O,cardsSettings:"allCards",isSubmitted:V,handleAddMovie:r,handleDeleteMovie:s,isSavedCards:l,successCardRequest:o,isOnSearch:F})),c.a.createElement(L,null))};t(70);var ee=function(e){var a=e.activeItem,t=e.isLoggedIn,r=e.isSavedCards,s=e.handleDeleteMovie,l=e.successCardRequest,o=Object(n.useState)(null),u=Object(i.a)(o,2),d=u[0],_=u[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),E=p[0],v=p[1],g=Object(n.useState)(!1),b=Object(i.a)(g,2),N=b[0],k=b[1],j=Object(n.useState)(""),S=Object(i.a)(j,2),O=S[0],C=S[1],y=Object(n.useState)(!1),w=Object(i.a)(y,2),I=w[0],x=w[1],M=c.a.useContext(m);function R(e){k(!1),M.length>0&&_(W(M,e,E)),k(!0),x(!0)}return Object(n.useEffect)(function(){k(!1),M.length>0&&R(O),d&&0===d.length&&k(!1)},[E]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{isLoggedIn:t,activeItem:a}),c.a.createElement("main",null,c.a.createElement(q,{handleSearch:R,isChecked:E,handleCheckboxChangeSaved:function(e){v(!E),C(e||"")},isLoading:!1,cardsSettings:"savedCards"}),c.a.createElement(K,{cardsSettings:"savedCards",cards:d||M,isSavedCards:r,handleDeleteMovie:function(e){return s(e).then(function(){N&&_(function(){return d.filter(function(a){return a._id!==e._id})}),M.length<=1&&x(!1)})},isSubmitted:N,successCardRequest:l,isOnSearch:I})),c.a.createElement(L,null))};t(72);var ae=function(e){var a=e.isLoggedIn,t=e.handleSetUserInfo,r=e.handleLogout,s=c.a.useContext(o),l=V(),m=l.values,u=l.setValues,d=l.handleChange,_=l.resetForm,h=l.errors,p=l.isValid,E=Object(n.useState)(!1),v=Object(i.a)(E,2),g=v[0],b=v[1];return Object(n.useEffect)(function(){u({name:s.name,email:s.email})},[s]),Object(n.useEffect)(function(){s&&_(s,{},!0)},[s,_]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{isLoggedIn:a}),c.a.createElement("div",{className:"profile"},c.a.createElement("h2",{className:"profile__title"},"\u041f\u0440\u0438\u0432\u0435\u0442, ",s.name,"!"),c.a.createElement("form",{className:"profile__form"},c.a.createElement("div",{className:"profile__wrapper"},c.a.createElement("div",{className:"profile__block"},c.a.createElement("label",{className:"profile__label",htmlFor:"inputName"},"\u0418\u043c\u044f"),c.a.createElement("input",{className:"profile__input",onChange:d,value:m.name||"",id:"inputName",type:"text",minLength:"2",maxLength:"40",required:!0,name:"name",disabled:g?"":"disabled"}),c.a.createElement("span",{className:"profile__error"},h.name)),c.a.createElement("div",{className:"profile__block"},c.a.createElement("label",{className:"profile__label",htmlFor:"inputEmail"},"E-mail"),c.a.createElement("input",{className:"profile__input",onChange:d,value:m.email||"",id:"inputEmail",type:"email",minLength:"2",maxLength:"40",required:!0,name:"email",disabled:g?"":"disabled"}),c.a.createElement("span",{className:"profile__error"},h.email))),c.a.createElement("button",{className:"profile__edit-btn",onClick:function(e){e.preventDefault(),g?(t(m.name,m.email),b(!g)):b(!g)},disabled:!p||g&&s.name===m.name&&s.email===m.email},g?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),c.a.createElement("button",{className:"profile__exit-btn",onClick:r},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")))};t(74);var te=function(e){var a=e.handleRegister,t=Object(n.useState)(!1),r=Object(i.a)(t,2),s=r[0],l=r[1],o=V(),m=o.values,u=o.handleChange,d=o.errors,p=o.isValid;return c.a.createElement("div",{className:"register"},c.a.createElement("div",{className:"register__container"},c.a.createElement("header",null,c.a.createElement(h.b,{to:"/",className:"register__logo-link",replace:!0},c.a.createElement("img",{src:_.a,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"}))),c.a.createElement("main",null,c.a.createElement("h2",{className:"register__title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),c.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),a(m.password,m.email,m.name),l(!0)}},c.a.createElement("label",{className:"register__label"},"\u0418\u043c\u044f",c.a.createElement("input",{name:"name",type:"text",className:"register__input",required:!0,placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",value:m.name||"",onChange:u}),c.a.createElement("span",{className:d.name&&"register__error"},d.name||"")),c.a.createElement("label",{className:"register__label"},"E-mail",c.a.createElement("input",{className:"register__input",name:"email",type:"email",required:!0,placeholder:"E-mail",minLength:"2",maxLength:"40",value:m.email||"",onChange:u}),c.a.createElement("span",{className:d.email&&"register__error"},d.email||"")),c.a.createElement("label",{className:"register__label"},"\u041f\u0430\u0440\u043e\u043b\u044c",c.a.createElement("input",{className:"register__input",name:"password",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"40",value:m.password||"",onChange:u}),c.a.createElement("span",{className:d.password&&"register__error"},d.password||"")),c.a.createElement("span",{className:"input__error"},!p&&s?"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a":""),c.a.createElement("button",{className:"register__btn",type:"submit",disabled:!p},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),c.a.createElement("footer",{className:"register__wrapper"},c.a.createElement("span",{className:"register__caption"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "),c.a.createElement(h.b,{className:"register__link",to:"/signin",replace:!0},"\u0412\u043e\u0439\u0442\u0438"))))};t(76);var ne=function(e){var a=e.handleLogin,t=Object(n.useState)(!1),r=Object(i.a)(t,2),s=r[0],l=r[1],o=V(),m=o.values,u=o.handleChange,d=o.errors,p=o.isValid;return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__container"},c.a.createElement("header",null,c.a.createElement(h.b,{to:"/",replace:!0,className:"login__logo-link"},c.a.createElement("img",{src:_.a,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"}))),c.a.createElement("main",null,c.a.createElement("h2",{className:"login__title"},"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"),c.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),a(m.password,m.email),l(!0)}},c.a.createElement("label",{className:"login__label"},"E-mail",c.a.createElement("input",{className:"login__input",name:"email",type:"email",required:!0,placeholder:"E-mail",minLength:"2",maxLength:"40",value:m.email||"",onChange:u}),c.a.createElement("span",{className:d.email&&"login__error"},d.email)),c.a.createElement("label",{className:"login__label"},"\u041f\u0430\u0440\u043e\u043b\u044c",c.a.createElement("input",{className:"login__input login__input_error",name:"password",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"40",value:m.password||"",onChange:u}),c.a.createElement("span",{className:d.password&&"login__error"},d.password)),c.a.createElement("span",{className:"input__error"},!p&&s?"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a":""),c.a.createElement("button",{className:"login__btn",type:"submit",disabled:!p},"\u0412\u043e\u0439\u0442\u0438"))),c.a.createElement("footer",{className:"login__wrapper"},c.a.createElement("span",{className:"login__caption"},"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),c.a.createElement(h.b,{className:"login__link",to:"/signup",replace:!0},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))};t(78);var ce=function(){var e=Object(u.o)();return c.a.createElement("div",{className:"not-found"},c.a.createElement("span",{className:"not-found__descr"},"404"),c.a.createElement("h2",{className:"not-found__title"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),c.a.createElement("button",{className:"not-found__btn",onClick:function(){return e(-1)}},"\u041d\u0430\u0437\u0430\u0434"))},re=t(24),se=t.n(re),le=t(25),ie=t.n(le);t(80);function oe(e){var a=e.onClose,t=e.isOpen,r=e.isSuccess;Object(n.useEffect)(function(){if(t){var e=function(e){"Escape"===e.key&&a()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}},[t,a]);return c.a.createElement("div",{className:"tooltip ".concat(t?"tooltip_opened":""),onClick:function(e){e.target===e.currentTarget&&a()}},c.a.createElement("div",{className:"tooltip__container"},c.a.createElement("img",{className:"tooltip__image",src:r?se.a:ie.a,alt:r?"\u0417\u043d\u0430\u043a \u0433\u0430\u043b\u043e\u0447\u043a\u0438":"\u0417\u043d\u0430\u043a \u043a\u0440\u0435\u0441\u0442\u0438\u043a\u0430"}),c.a.createElement("button",{className:"tooltip__close-btn",type:"button",onClick:a})))}var me=function(){function e(a){var t=a.adress,n=a.token;Object(X.a)(this,e),this._adress=t,this._token="Bearer ".concat(n)}return Object(Y.a)(e,[{key:"_checkResponseStatus",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._adress+"/users/me",{headers:{authorization:this._token}}).then(function(a){return e._checkResponseStatus(a)})}},{key:"setUserInfo",value:function(e){var a=this,t=e.name,n=e.email;return fetch(this._adress+"/users/me",{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n})}).then(function(e){return a._checkResponseStatus(e)})}},{key:"getSavedMovies",value:function(e){var a=this;return fetch(this._adress+"/movies",{headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return a._checkResponseStatus(e)})}},{key:"postMovie",value:function(e){var a=this,t=e.country,n=e.director,c=e.duration,r=e.year,s=e.description,l=e.image,i=e.trailerLink,o=e.thumbnail,m=e.movieId,u=e.nameRU,d=e.nameEN;return fetch(this._adress+"/movies",{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({country:t,director:n,duration:c,year:r,description:s,image:l,trailerLink:i,thumbnail:o,movieId:m,nameRU:u,nameEN:d})}).then(function(e){return a._checkResponseStatus(e)})}},{key:"deleteMovie",value:function(e){var a=this;return fetch(this._adress+"/movies/"+e,{method:"DELETE",headers:{authorization:this._token}}).then(function(e){return a._checkResponseStatus(e)})}}]),e}(),ue="https://shevtsova.movies.nomoreparties.sbs/api";function de(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}var _e=function(e,a,t){return fetch("".concat(ue,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:a,name:t})}).then(function(e){return de(e)})},he=function(e,a){return fetch("".concat(ue,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:a})}).then(function(e){return de(e).then(function(e){localStorage.setItem("jwt",e.token)})})},pe=function(e){return fetch("".concat(ue,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return de(e)})},fe=t(26),Ee=function(e){var a=e.element,t=Object(fe.a)(e,["element"]);return t.isLoggedIn&&a?a:t.isLoggedIn?c.a.createElement(u.a,{to:"".concat(window.location.pathname),replace:!0}):c.a.createElement(u.a,{to:"/",replace:!0})};var ve=function(){var e=c.a.useState(!1),a=Object(i.a)(e,2),t=a[0],r=a[1],s=c.a.useState(!1),d=Object(i.a)(s,2),_=d[0],h=d[1],p=c.a.useState({}),f=Object(i.a)(p,2),E=f[0],v=f[1],g=c.a.useState(!1),b=Object(i.a)(g,2),N=b[0],k=b[1],j=c.a.useState([]),S=Object(i.a)(j,2),O=S[0],C=S[1],y=c.a.useState(!1),L=Object(i.a)(y,2),I=L[0],x=L[1],M=Object(u.o)(),R=localStorage.getItem("jwt")||"",V=new me({adress:"https://shevtsova.movies.nomoreparties.sbs/api",token:R}),q=window.location.pathname;function D(e,a){return he(e,a).then(function(e){k(!0),M("/movies",{replace:!0}),T()}).catch(function(e){console.log(e)})}function T(){var e=localStorage.getItem("jwt");if(R=e,e)return pe(e).then(function(e){e&&(k(!0),M("".concat(q),{replace:!0}),v(e))}).catch(function(e){k(!1),console.log(e)})}function U(e){return V.deleteMovie(e._id).then(function(){x(!0),C(function(){return O.filter(function(a){return a._id!==e._id})})}).catch(function(e){x(!1),console.error(e)})}return Object(n.useEffect)(function(){T()},[]),Object(n.useEffect)(function(){N&&function(e){V.getSavedMovies(e).then(function(e){C(e)}).catch(function(e){return console.error(e)})}(R)},[N]),c.a.createElement(o.Provider,{value:E},c.a.createElement(m.Provider,{value:O},c.a.createElement("div",{className:"page"},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",element:c.a.createElement(w,{isLoggedIn:N,activeItem:"none"})}),c.a.createElement(u.b,{path:"/movies",element:c.a.createElement(Ee,{element:c.a.createElement($,{isLoggedIn:N,handleAddMovie:function(e){var a=e.country,t=e.director,n=e.duration,c=e.year,r=e.description,s=e.image,i=e.trailerLink,o=e.thumbnail,m=e.movieId,u=e.nameRU,d=e.nameEN;return V.postMovie({country:a,director:t,duration:n,year:c,description:r,image:s,trailerLink:i,thumbnail:o,movieId:m,nameRU:u,nameEN:d}).then(function(e){x(!0),C([].concat(Object(l.a)(O),[e]))}).catch(function(e){x(!1),console.error(e)})},handleDeleteMovie:U,isSavedCards:!1,savedCards:O,successCardRequest:I,activeItem:"movies"}),isLoggedIn:N})}),c.a.createElement(u.b,{path:"/saved-movies",element:c.a.createElement(Ee,{element:c.a.createElement(ee,{isLoggedIn:N,isSavedCards:!0,handleDeleteMovie:U,successCardRequest:I,activeItem:"saved-movies"}),isLoggedIn:N})}),c.a.createElement(u.b,{path:"/profile",element:c.a.createElement(Ee,{element:c.a.createElement(ae,{isLoggedIn:N,handleSetUserInfo:function(e,a){V.setUserInfo({name:e,email:a}).then(function(e){v({name:e.name,email:e.email}),h(!0),r(!0)}).catch(function(e){console.error(e)})},handleLogout:function(){k(!1),localStorage.clear(),M("/",{replace:!0}),console.log("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")}}),isLoggedIn:N})}),c.a.createElement(u.b,{path:"/signup",element:N?c.a.createElement(u.a,{to:"/",replace:!0}):c.a.createElement(te,{handleRegister:function(e,a,t){return _e(e,a,t).then(function(){D(e,a)}).catch(function(){h(!1),r(!0),k(!1)})}})}),c.a.createElement(u.b,{path:"/signin",element:N?c.a.createElement(u.a,{to:"/",replace:!0}):c.a.createElement(ne,{handleLogin:D})}),c.a.createElement(u.b,{path:"*",element:c.a.createElement(ce,null),isLoggedIn:N})),c.a.createElement(oe,{onClose:function(){r(!1),setTimeout(function(){h(!1)},300)},isOpen:t,isSuccess:_}))))};s.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h.a,null,c.a.createElement(ve,null))))}],[[27,2,1]]]);
//# sourceMappingURL=main.871398c4.chunk.js.map