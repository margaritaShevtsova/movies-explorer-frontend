(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo_main-1.f43312f8.svg"},,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/arrow.c04e6559.svg"},,,function(e,a,t){e.exports=t.p+"static/media/student.1ec56c8d.png"},function(e,a,t){e.exports=t.p+"static/media/Success.e38b395c.svg"},function(e,a,t){e.exports=t.p+"static/media/Fale.4072126c.svg"},,function(e,a,t){e.exports=t(81)},,,,,,,,,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(21),l=t.n(c),s=(t(35),t(3)),i=(t(39),Object(n.createContext)()),o=Object(n.createContext)(),m=t(0),u=(t(41),t(10)),d=t.n(u),_=t(5);t(43);var p=function(e){var a=e.handleClose,t=e.activeItem,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],o=l[1];return Object(n.useEffect)(function(){setTimeout(function(){o(!0)},500)},[]),r.a.createElement("nav",{className:"nav ".concat(i&&"nav_active")},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",{className:"nav__item"},r.a.createElement(_.c,{className:"nav__link",to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"nav__item"},r.a.createElement(_.c,{className:"nav__link ".concat("\u0444\u0438\u043b\u044c\u043c\u044b"===t&&"nav__link_active"),to:"/movies"},"\u0424\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("li",{className:"nav__item"},r.a.createElement(_.c,{className:"nav__link ".concat("\u0441\u043e\u0445\u0440\u0424\u0438\u043b\u044c\u043c\u044b"===t&&"nav__link_active"),to:"/saved-movies"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"))),r.a.createElement(_.b,{className:"nav__link_type_profile",to:"/profile"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{type:"button",className:"nav__close-btn",onClick:a}))};var h=function(e){var a=e.isLoggedIn,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],i=c[1];return r.a.createElement("header",{className:"header"},r.a.createElement(_.b,{to:"/"},r.a.createElement("img",{src:d.a,className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"})),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header__wrapper"},r.a.createElement(_.b,{className:"header__link header__link_type_movies",to:"/movies",replace:!0},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(_.b,{className:"header__link header__link_type_saved-movies",to:"/saved-movies",replace:!0},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement(_.b,{className:"header__link header__link_type_profile",to:"/profile",replace:!0},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{className:"burger",onClick:function(){i(!0)}},r.a.createElement("span",{className:"burger-line"}),r.a.createElement("span",{className:"burger-line"}),r.a.createElement("span",{className:"burger-line"})),l&&r.a.createElement(p,{handleClose:function(){i(!1)},activeItem:"\u0444\u0438\u043b\u044c\u043c\u044b"})):r.a.createElement("div",null,r.a.createElement(_.b,{className:"header__link header__link_type_register",to:"/signup",replace:!0},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(_.b,{className:"header__link header__link_type_signin",to:"/signin",replace:!0},"\u0412\u043e\u0439\u0442\u0438")))},f=t(18),E=t.n(f);t(45);var v=function(){return r.a.createElement("section",{className:"promo"},r.a.createElement("div",{className:"promo__content"},r.a.createElement("h1",{className:"promo__title"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."),r.a.createElement("ul",{className:"promo__list"},r.a.createElement("li",{className:"promo__item"},r.a.createElement(E.a,{href:"#project",className:"promo__link"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435")),r.a.createElement("li",{className:"promo__item"},r.a.createElement(E.a,{href:"#techs",className:"promo__link"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438")),r.a.createElement("li",{className:"promo__item"},r.a.createElement(E.a,{href:"#aboutMe",className:"promo__link"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442")))))};t(47);var g=function(){return r.a.createElement("section",{className:"project",id:"project"},r.a.createElement("h2",{className:"project__title"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("div",{className:"project__desc-wrapper"},r.a.createElement("div",{className:"project__wrapper"},r.a.createElement("h3",{className:"project__subtitle"},"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"),r.a.createElement("p",{className:"project__description"},"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")),r.a.createElement("div",{className:"project__wrapper"},r.a.createElement("h3",{className:"project__subtitle"},"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"),r.a.createElement("p",{className:"project__description"},"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."))),r.a.createElement("div",{className:"project__info"},r.a.createElement("div",{className:"project__block"},r.a.createElement("span",{className:"project__block-left"},"1 \u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("span",{className:"project__caption"},"Back-end")),r.a.createElement("div",{className:"project__block"},r.a.createElement("span",{className:"project__block-right"},"4 \u043d\u0435\u0434\u0435\u043b\u0438"),r.a.createElement("span",{className:"project__caption"},"Front-end"))))};t(49);var b=function(){return r.a.createElement("section",{className:"techs",id:"techs"},r.a.createElement("h2",{className:"techs__title"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"),r.a.createElement("div",{className:"techs__content"},r.a.createElement("h3",{className:"techs__subtitle"},"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"),r.a.createElement("p",{className:"techs__descr"},"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."),r.a.createElement("ul",{className:"techs__list"},r.a.createElement("li",{className:"techs__item"},"HTML"),r.a.createElement("li",{className:"techs__item"},"CSS"),r.a.createElement("li",{className:"techs__item"},"JS"),r.a.createElement("li",{className:"techs__item"},"React"),r.a.createElement("li",{className:"techs__item"},"Git"),r.a.createElement("li",{className:"techs__item"},"Express.js"),r.a.createElement("li",{className:"techs__item"},"mongoDB"))))},N=(t(51),t(22)),k=t.n(N);var j=function(){return r.a.createElement("section",{className:"about-me",id:"aboutMe"},r.a.createElement("h2",{className:"about-me__title"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"),r.a.createElement("div",{className:"about-me__content"},r.a.createElement("div",{className:"about-me__block"},r.a.createElement("h3",{className:"about-me__subtitle"},"\u0412\u0438\u0442\u0430\u043b\u0438\u0439"),r.a.createElement("span",{className:"about-me__caption"},"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"),r.a.createElement("p",{className:"about-me__descr"},"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."),r.a.createElement("a",{className:"about-me__link",href:"https://github.com/margaritaShevtsova"},"Github")),r.a.createElement("img",{className:"about-me__image",src:k.a,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})))},S=(t(53),t(19)),O=t.n(S);var C=function(){return r.a.createElement("section",{className:"portfolio"},r.a.createElement("h2",{className:"portfolio__title"},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),r.a.createElement("ul",{className:"portfolio__list"},r.a.createElement("li",{className:"portfolio__item"},r.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://margaritashevtsova.github.io/russian-travel/"},r.a.createElement("p",{className:"portfolio__text"},"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("img",{className:"portfolio__img",src:O.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"}))),r.a.createElement("li",{className:"portfolio__item"},r.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://margaritashevtsova.github.io/mesto"},r.a.createElement("p",{className:"portfolio__text"},"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("img",{className:"portfolio__img",src:O.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"}))),r.a.createElement("li",{className:"portfolio__item"},r.a.createElement("a",{className:"portfolio__link",target:"_blank",rel:"noopener noreferrer",href:"https://shevtsova.mesto.nomoredomains.xyz"},r.a.createElement("p",{className:"portfolio__text"},"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("img",{className:"portfolio__img",src:O.a,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430"})))))};t(55);var y=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__descr"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."),r.a.createElement("div",{className:"footer__wrapper"},r.a.createElement("span",{className:"footer__caption"},"\xa9 2020"),r.a.createElement("div",{className:"footer__block"},r.a.createElement("a",{className:"footer__link",href:"https://practicum.yandex.ru"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"),r.a.createElement("a",{className:"footer__link",href:"https://github.com/margaritaShevtsova"},"Github"))))};var L=function(e){var a=e.isLoggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{isLoggedIn:a}),r.a.createElement("main",null,r.a.createElement(v,null),r.a.createElement(g,null),r.a.createElement(b,null),r.a.createElement(j,null),r.a.createElement(C,null)),r.a.createElement(y,null))},w=(t(57),t(4)),x=t(12);t(59),t(61);var I=function(e){var a=e.onHandleChange,t=e.isChecked;return r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{className:"checkbox__input",id:"check",type:"checkbox",checked:t,onChange:a}),r.a.createElement("label",{htmlFor:"check",className:"checkbox__label"},"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"))};var M=function(e){var a=e.handleSearch,t=e.handleCheckboxChange,c=e.isChecked,l=e.searchValue,i=Object(n.useState)({search:l}),o=Object(s.a)(i,2),m=o[0],u=o[1];return r.a.createElement("section",{className:"search"},r.a.createElement("div",{className:"search__container"},r.a.createElement("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),a(m.search)}},r.a.createElement("div",{className:"search__wrapper"},r.a.createElement("input",{defaultValue:l,onChange:function(e){var a=e.target,t=a.name,n=a.value;u(Object(x.a)({},m,Object(w.a)({},t,n)))},className:"search__input",name:"search",type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",required:!0,maxLength:"60",minLength:"1"}),r.a.createElement("button",{className:"search__btn",type:"submit"})),r.a.createElement(I,{onHandleChange:t,isChecked:c}))))};t(63),t(65);var R=function(e){var a=e.card,t=e.handleAddMovie,c=e.handleDeleteMovie,l=e.isSavedCards,i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],_=r.a.useContext(o),p=a.country,h=a.director,f=a.duration,E=a.year,v=a.description,g=a.trailerLink,b=a.nameRU,N=a.nameEN,k=a.id,j=l?a.image:"https://api.nomoreparties.co".concat(a.image.url),S=l?a.thumbnail:"https://api.nomoreparties.co".concat(a.image.formats.thumbnail.url);return Object(n.useEffect)(function(){a.id&&_&&_.map(function(e){e.movieId===a.id&&(d(!0),a._id=e._id)})},[a]),r.a.createElement("li",{className:"card"},r.a.createElement("a",{className:"card__link",href:a.trailerLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"card__image",src:l?j:"https://api.nomoreparties.co".concat(a.image.url),alt:a.nameRU})),r.a.createElement("button",{className:u||l?"card__save-btn_active":"card__save-btn",onClick:function(){u||l?(c(a),d(!1)):(t({country:p,director:h,duration:f,year:E,description:v,image:j,trailerLink:g,thumbnail:S,movieId:k,nameRU:b,nameEN:N}),d(!0))}},u||l?"":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("div",{className:"card__content"},r.a.createElement("h2",{className:"card__name"},a.nameRU),r.a.createElement("span",{className:"card__descr"},function(e){var a=Math.floor(e/60),t=e%60;return"".concat(a>0?"".concat(a,"\u0447"):""," ").concat(t>0?"".concat(t,"\u043c"):"")}(a.duration))))};function D(e){var a=function(e){return"undefined"!==typeof window&&window.matchMedia(e).matches},t=Object(n.useState)(a(e)),r=Object(s.a)(t,2),c=r[0],l=r[1];function i(){l(a(e))}return Object(n.useEffect)(function(){var a=window.matchMedia(e);return i(),a.addListener?a.addListener(i):a.addEventListener("change",i),function(){a.removeListener?a.removeListener(i):a.removeEventListener("change",i)}},[e]),c}var F=3,T=2,U=2,V=12,J=8,P=5;var q=function(e){var a=e.cards,t=e.cardsSettings,n=e.isSubmitted,c=e.handleAddMovie,l=e.handleDeleteMovie,i=e.isSavedCards,o=D("(min-width: 1260px)"),m=D("(min-width: 768px)"),u=o?F:m?T:U,d=o?V:m?J:P,_=r.a.useState(d),p=Object(s.a)(_,2),h=p[0],f=p[1],E=Math.floor(h/u)*u,v=function(){return o?f(h+F):m?f(h+T):void f(h+U)};return r.a.createElement("section",{className:"cards"},r.a.createElement("ul",{className:"cards__list"},0===a.length&&n?r.a.createElement("span",{className:"cards__statement"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):a.length>0&&a.slice(0,E).map(function(e){return r.a.createElement(R,{key:e.id||e.movieId,card:e,handleAddMovie:c,handleDeleteMovie:l,isSavedCards:i})})),E<a.length&&r.a.createElement("button",{className:"cards__btn ".concat("allCards"!==t&&"cards__btn_visibility_hidden"),onClick:function(){v()}},"\u0415\u0449\u0451"))},A=(t(67),function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"preloader__container"},r.a.createElement("span",{className:"preloader__round"})))});function B(e,a,t){console.log(e);var n=function(e,a){return e.filter(function(e){return a?e.duration<=40:e})}(e,t);return console.log(n),function(e,a){return e.filter(function(e){return e.nameRU.toLowerCase().includes(a.toLowerCase())||e.nameEN.toLowerCase().includes(a.toLowerCase())})}(n,a)}var G=t(7),H=t(8),z=new(function(){function e(a){var t=a.adress;Object(G.a)(this,e),this._adress=t}return Object(H.a)(e,[{key:"_checkResponseStatus",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getMovies",value:function(){var e=this;return fetch(this._adress).then(function(a){return e._checkResponseStatus(a)})}}]),e}())({adress:"https://api.nomoreparties.co/beatfilm-movies"});var K=function(e){var a=e.isLoggedIn,t=e.handleAddMovie,c=e.handleDeleteMovie,l=e.isSavedCards,i=Object(n.useState)(!0),o=Object(s.a)(i,2),m=o[0],u=o[1],d=r.a.useState(!1),_=Object(s.a)(d,2),p=_[0],f=_[1],E=r.a.useState([]),v=Object(s.a)(E,2),g=v[0],b=v[1],N=Object(n.useState)([]),k=Object(s.a)(N,2),j=k[0],S=k[1],O=Object(n.useState)(""),C=Object(s.a)(O,2),L=C[0],w=C[1],x=Object(n.useState)(!1),I=Object(s.a)(x,2),R=I[0],D=I[1];return Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("searchSettings"));e&&(S(e.cards),w(e.searchValue),u(e.checked))},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{isLoggedIn:a}),r.a.createElement("main",null,r.a.createElement(M,{handleSearch:function(e){if(0===g.length)return console.log(g.length),D(!1),f(!0),z.getMovies().then(function(e){return b(e),e}).catch(function(e){return console.error(e)}).then(function(a){S(B(a,e,m)),localStorage.setItem("searchSettings",JSON.stringify({cards:B(a,e,m),searchValue:e,checked:m}))}).finally(function(){f(!1),D(!0)});S(B(g,e,m)),localStorage.setItem("searchSettings",JSON.stringify({cards:B(g,e,m),searchValue:e,checked:m}))},isChecked:m,handleCheckboxChange:function(){u(!m)},searchValue:L}),p?r.a.createElement(A,null):r.a.createElement(q,{cards:j,cardsSettings:"allCards",isSubmitted:R,handleAddMovie:t,handleDeleteMovie:c,isSavedCards:l})),r.a.createElement(y,null))};t(69);var Q=function(e){var a=e.isLoggedIn,t=e.cards,c=e.isSavedCards,l=e.handleDeleteMovie,i=Object(n.useState)(null),o=Object(s.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(!0),_=Object(s.a)(d,2),p=_[0],f=_[1],E=Object(n.useState)(!1),v=Object(s.a)(E,2),g=v[0],b=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{isLoggedIn:a}),r.a.createElement("main",null,r.a.createElement(M,{handleSearch:function(e){u(B(t,e,p)),b(!0)},isChecked:p,handleCheckboxChange:function(){f(!p)}}),r.a.createElement(q,{cardsSettings:"savedCards",cards:m||t,isSavedCards:c,handleDeleteMovie:l,isSubmitted:g})),r.a.createElement(y,null))};t(71);function W(){var e=r.a.useState({}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=r.a.useState({}),i=Object(s.a)(l,2),o=i[0],m=i[1],u=r.a.useState(!1),d=Object(s.a)(u,2),_=d[0],p=d[1],h=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(e),m(a),p(t)},[c,m,p]);return{values:t,setValues:c,handleChange:function(e){var a=e.target,n=a.name,r=a.value;c(Object(x.a)({},t,Object(w.a)({},n,r))),m(Object(x.a)({},o,Object(w.a)({},n,a.validationMessage))),p(a.closest("form").checkValidity())},errors:o,isValid:_,resetForm:h}}var X=function(e){var a=e.isLoggedIn,t=e.handleSetUserInfo,c=e.handleLogout,l=r.a.useContext(i),o=W(),m=o.values,u=o.setValues,d=o.handleChange,_=o.resetForm,p=o.errors,f=o.isValid,E=Object(n.useState)(!1),v=Object(s.a)(E,2),g=v[0],b=v[1];return Object(n.useEffect)(function(){u({name:l.name,email:l.email})},[l]),Object(n.useEffect)(function(){l&&_(l,{},!0)},[l,_]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{isLoggedIn:a}),r.a.createElement("div",{className:"profile"},r.a.createElement("h2",{className:"profile__title"},"\u041f\u0440\u0438\u0432\u0435\u0442, ",l.name,"!"),r.a.createElement("form",{className:"profile__form"},r.a.createElement("div",{className:"profile__wrapper"},r.a.createElement("div",{className:"profile__block"},r.a.createElement("label",{className:"profile__label",htmlFor:"inputName"},"\u0418\u043c\u044f"),r.a.createElement("input",{className:"profile__input",onChange:d,value:m.name||"",id:"inputName",type:"text",minLength:"2",maxLength:"40",required:!0,name:"name",disabled:g?"":"disabled"}),r.a.createElement("span",{className:"profile__error"},p.name)),r.a.createElement("div",{className:"profile__block"},r.a.createElement("label",{className:"profile__label",htmlFor:"inputEmail"},"E-mail"),r.a.createElement("input",{className:"profile__input",onChange:d,value:m.email||"",id:"inputEmail",type:"email",minLength:"2",maxLength:"40",required:!0,name:"email",disabled:g?"":"disabled"}),r.a.createElement("span",{className:"profile__error"},p.email))),r.a.createElement("button",{className:"profile__edit-btn",onClick:function(e){e.preventDefault(),t(m.name,m.email),b(!g)},disabled:!f},g?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("button",{className:"profile__exit-btn",onClick:c},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")))};t(73);var Y=function(e){var a=e.handleRegister,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],i=c[1],o=W(),m=o.values,u=o.handleChange,p=o.errors,h=o.isValid;return o.resetForm,r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"register__container"},r.a.createElement("header",null,r.a.createElement(_.b,{to:"/",className:"register__logo-link",replace:!0},r.a.createElement("img",{src:d.a,className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"}))),r.a.createElement("main",null,r.a.createElement("h2",{className:"register__title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),r.a.createElement("form",{className:"register__form",onSubmit:function(e){e.preventDefault(),a(m.password,m.email,m.name),i(!0)}},r.a.createElement("label",{className:"register__label"},"\u0418\u043c\u044f",r.a.createElement("input",{name:"name",type:"text",className:"register__input",required:!0,placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",value:m.name||"",onChange:u}),r.a.createElement("span",{className:p.name&&"register__error"},p.name||"")),r.a.createElement("label",{className:"register__label"},"E-mail",r.a.createElement("input",{className:"register__input",name:"email",type:"email",required:!0,placeholder:"E-mail",minLength:"2",maxLength:"40",value:m.email||"",onChange:u}),r.a.createElement("span",{className:p.email&&"register__error"},p.email||"")),r.a.createElement("label",{className:"register__label"},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement("input",{className:"register__input",name:"password",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"40",value:m.password||"",onChange:u}),r.a.createElement("span",{className:p.password&&"register__error"},p.password||"")),r.a.createElement("span",{className:"input__error"},!h&&l?"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a":""),r.a.createElement("button",{className:"register__btn",type:"submit",disabled:!h},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),r.a.createElement("footer",{className:"register__wrapper"},r.a.createElement("span",{className:"register__caption"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "),r.a.createElement(_.b,{className:"register__link",to:"/signin",replace:!0},"\u0412\u043e\u0439\u0442\u0438"))))};t(75);var Z=function(e){var a=e.handleLogin,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],i=c[1],o=W(),m=o.values,u=o.handleChange,p=o.errors,h=o.isValid;return o.resetForm,r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("header",null,r.a.createElement(_.b,{to:"/",replace:!0,className:"login__logo-link"},r.a.createElement("img",{src:d.a,className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430"}))),r.a.createElement("main",null,r.a.createElement("h2",{className:"login__title"},"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"),r.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),a(m.password,m.email),i(!0)}},r.a.createElement("label",{className:"login__label"},"E-mail",r.a.createElement("input",{className:"login__input",name:"email",type:"email",required:!0,placeholder:"E-mail",minLength:"2",maxLength:"40",value:m.email||"",onChange:u}),r.a.createElement("span",{className:p.email&&"login__error"},p.email)),r.a.createElement("label",{className:"login__label"},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement("input",{className:"login__input login__input_error",name:"password",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"40",value:m.password||"",onChange:u}),r.a.createElement("span",{className:p.password&&"login__error"},p.password)),r.a.createElement("span",{className:"input__error"},!h&&l?"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a":""),r.a.createElement("button",{className:"login__btn",type:"submit",disabled:!h},"\u0412\u043e\u0439\u0442\u0438"))),r.a.createElement("footer",{className:"login__wrapper"},r.a.createElement("span",{className:"login__caption"},"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(_.b,{className:"login__link",to:"/signup",replace:!0},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))};t(77);var $=function(){var e=Object(m.o)();return r.a.createElement("div",{className:"not-found"},r.a.createElement("span",{className:"not-found__descr"},"404"),r.a.createElement("h2",{className:"not-found__title"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement("button",{className:"not-found__btn",onClick:function(){return e(-1)}},"\u041d\u0430\u0437\u0430\u0434"))},ee=t(23),ae=t.n(ee),te=t(24),ne=t.n(te);t(79);function re(e){var a=e.onClose,t=e.isOpen,c=e.isSuccess;Object(n.useEffect)(function(){if(t){var e=function(e){"Escape"===e.key&&a()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}},[t,a]);return r.a.createElement("div",{className:"tooltip ".concat(t?"tooltip_opened":""),onClick:function(e){e.target===e.currentTarget&&a()}},r.a.createElement("div",{className:"tooltip__container"},r.a.createElement("img",{className:"tooltip__image",src:c?ae.a:ne.a,alt:c?"\u0417\u043d\u0430\u043a \u0433\u0430\u043b\u043e\u0447\u043a\u0438":"\u0417\u043d\u0430\u043a \u043a\u0440\u0435\u0441\u0442\u0438\u043a\u0430"}),r.a.createElement("p",{className:"tooltip__descr"},c?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."),r.a.createElement("button",{className:"tooltip__close-btn",type:"button",onClick:a})))}var ce=new(function(){function e(a){var t=a.adress;Object(G.a)(this,e),this._adress=t}return Object(H.a)(e,[{key:"_checkResponseStatus",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"logout",value:function(){var e=this;return fetch(this._adress+"/signout",{credentials:"include"}).then(function(a){return e._checkResponseStatus(a)})}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._adress+"/users/me",{credentials:"include"}).then(function(a){return e._checkResponseStatus(a)})}},{key:"setUserInfo",value:function(e){var a=this,t=e.name,n=e.email;return fetch(this._adress+"/users/me",{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t,email:n})}).then(function(e){return a._checkResponseStatus(e)})}},{key:"getSavedMovies",value:function(){var e=this;return fetch(this._adress+"/movies",{credentials:"include"}).then(function(a){return e._checkResponseStatus(a)})}},{key:"postMovie",value:function(e){var a=this,t=e.country,n=e.director,r=e.duration,c=e.year,l=e.description,s=e.image,i=e.trailerLink,o=e.thumbnail,m=e.movieId,u=e.nameRU,d=e.nameEN;return fetch(this._adress+"/movies",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({country:t,director:n,duration:r,year:c,description:l,image:s,trailerLink:i,thumbnail:o,movieId:m,nameRU:u,nameEN:d})}).then(function(e){return a._checkResponseStatus(e)})}},{key:"deleteMovie",value:function(e){var a=this;return fetch(this._adress+"/movies/"+e,{method:"DELETE",credentials:"include"}).then(function(e){return a._checkResponseStatus(e)})}}]),e}())({adress:"https://shevtsova.movies.nomoreparties.sbs/api"}),le="https://shevtsova.movies.nomoreparties.sbs/api";function se(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}var ie=function(e,a,t){return fetch("".concat(le,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:e,email:a,name:t})}).then(function(e){return se(e)})},oe=function(e,a){return fetch("".concat(le,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:e,email:a})}).then(function(e){return se(e)})},me=function(){return fetch("".concat(le,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){return se(e)})},ue=t(25),de=function(e){var a=e.element;return Object(ue.a)(e,["element"]).isLoggedIn?a:r.a.createElement(m.a,{to:"/",replace:!0})};var _e=function(){var e=r.a.useState(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],l=r.a.useState(!1),u=Object(s.a)(l,2),d=u[0],_=u[1],p=r.a.useState({}),h=Object(s.a)(p,2),f=h[0],E=h[1],v=r.a.useState(!1),g=Object(s.a)(v,2),b=g[0],N=g[1],k=r.a.useState([]),j=Object(s.a)(k,2),S=j[0],O=j[1],C=Object(m.o)();function y(){ce.getSavedMovies().then(function(e){O(e)}).catch(function(e){return console.error(e)})}function w(){me().then(function(e){e&&(N(!0),C("/",{replace:!0}),E(e))}).catch(function(e){N(!1),console.error(e)})}function x(e){ce.deleteMovie(e._id).then(function(){O(function(a){return a.filter(function(a){return a._id!==e._id})})}).catch(function(e){return console.error(e)})}return Object(n.useEffect)(function(){w()},[]),Object(n.useEffect)(function(){y()},[]),r.a.createElement(i.Provider,{value:f},r.a.createElement(o.Provider,{value:S},r.a.createElement("div",{className:"page"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",element:r.a.createElement(L,{isLoggedIn:b})}),r.a.createElement(m.b,{path:"/movies",element:r.a.createElement(de,{element:r.a.createElement(K,{isLoggedIn:b,handleAddMovie:function(e){var a=e.country,t=e.director,n=e.duration,r=e.year,c=e.description,l=e.image,s=e.trailerLink,i=e.thumbnail,o=e.movieId,m=e.nameRU,u=e.nameEN;ce.postMovie({country:a,director:t,duration:n,year:r,description:c,image:l,trailerLink:s,thumbnail:i,movieId:o,nameRU:m,nameEN:u}).then(function(e){y()}).catch(function(e){console.error(e)})},handleDeleteMovie:x,isSavedCards:!1,savedCards:S}),isLoggedIn:b})}),r.a.createElement(m.b,{path:"/saved-movies",element:r.a.createElement(de,{element:r.a.createElement(Q,{isLoggedIn:b,cards:S,isSavedCards:!0,handleDeleteMovie:x}),isLoggedIn:b})}),r.a.createElement(m.b,{path:"/profile",element:r.a.createElement(de,{element:r.a.createElement(X,{isLoggedIn:b,handleSetUserInfo:function(e,a){ce.setUserInfo({name:e,email:a}).then(function(e){E({name:e.name,email:e.email})}).catch(function(e){console.error(e)})},handleLogout:function(){ce.logout().then(function(){N(!1),localStorage.clear(),C("/",{replace:!0}),console.log("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")}).catch(function(e){console.error(e)})}}),isLoggedIn:b})}),r.a.createElement(m.b,{path:"/signup",element:r.a.createElement(Y,{handleRegister:function(e,a,t){return ie(e,a,t).then(function(){C("/signin",{replace:!0}),w(),_(!0),c(!0)}).catch(function(){_(!1),c(!0),N(!1)})}})}),r.a.createElement(m.b,{path:"/signin",element:r.a.createElement(Z,{handleLogin:function(e,a){return oe(e,a).then(function(e){N(!0),C("/movies",{replace:!0}),w()}).catch(function(){_(!1),c(!0)})}})}),r.a.createElement(m.b,{path:"*",element:r.a.createElement($,null)})),r.a.createElement(re,{onClose:function(){c(!1),_(!1)},isOpen:t,isSuccess:d}))))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_.a,null,r.a.createElement(_e,null))))}],[[26,2,1]]]);
//# sourceMappingURL=main.800d1b4c.chunk.js.map