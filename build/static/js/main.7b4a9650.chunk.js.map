{"version":3,"sources":["images/logo_main-1.svg","images/arrow.svg","images/student.png","images/Success.svg","images/Fale.svg","contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Header/Header.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","components/Main/Main.js","components/FilterCheckbox/FilterCheckbox.js","hooks/useForm.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","hooks/useMediaQuery.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","utils/filter.js","utils/MoviesApi.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Profile/Profile.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","components/InfoToolTip/InfoToolTip.js","utils/MainApi.js","utils/auth.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","createContext","SavedMoviesContext","Navigation","_ref","handleClose","activeItem","_useState","useState","_useState2","_slicedToArray","isTransition","setIsTransition","useEffect","setTimeout","React","createElement","className","concat","NavLink","to","Link","type","onClick","Header","isLoggedIn","isNav","setIsNav","src","logo","alt","Fragment","replace","Promo","AnchorLink","href","AboutProject","id","Techs","AboutMe","photo","Portfolio","target","rel","arrow","Footer","Main","FilterCheckbox","onHandleChange","isChecked","checked","onChange","htmlFor","useFormWithValidation","_React$useState3","_React$useState4","values","setValues","_React$useState5","_React$useState6","errors","setErrors","_React$useState7","_React$useState8","isValid","setIsValid","resetForm","useCallback","newValues","arguments","length","undefined","newErrors","newIsValid","handleChange","event","name","value","validate","_objectSpread","_defineProperty","validationMessage","closest","checkValidity","SearchForm","handleSearch","handleCheckboxChange","searchValue","_useFormWithValidatio","isSearchValue","setIsSearchValue","search","onSubmit","e","preventDefault","defaultValue","placeholder","required","maxLength","minLength","disabled","MoviesCard","card","handleAddMovie","handleDeleteMovie","isSavedCards","isSaved","setIsSaved","savedMovies","useContext","country","director","duration","year","description","trailerLink","nameRU","nameEN","movieId","image","url","thumbnail","formats","map","movie","_id","then","hours","Math","floor","minutes","makeDurationFormat","useMediaQuery","query","getMatches","window","matchMedia","matches","setMatches","addListener","addEventListener","removeListener","removeEventListener","LG_ROW_CARD_COUNT","MD_ROW_CARD_COUNT","SM_ROW_CARD_COUNT","LG_INITIAL_CARD_COUNT","MD_INITIAL_CARD_COUNT","SM_INITIAL_CARD_COUNT","MoviesCardList","cards","cardsSettings","isSubmitted","successCardRequest","isDesktop","isTablet","cardColumnCount","initialCardCount","_React$useState","_React$useState2","visibleCardCount","setVisibleCardCount","roundedVisibleCardCount","calculateCardCount","slice","key","Preloader","filter","console","log","filteredCards","filterByDuration","toLowerCase","includes","filterByName","moviesApi","MoviesApi","adress","_classCallCheck","this","_adress","_createClass","res","ok","json","Promise","reject","status","_this","fetch","_checkResponseStatus","Movies","setIsChecked","isLoading","setIsLoading","setCards","_useState3","_useState4","setFilteredCards","_useState5","_useState6","setSearchValue","_useState7","_useState8","setIsSubmitted","searchSettings","JSON","parse","localStorage","getItem","setItem","stringify","getMovies","catch","err","error","finally","SavedMovies","item","Profile","handleSetUserInfo","handleLogout","currentUser","email","Register","handleRegister","password","Login","handleLogin","NotFound","navigate","useNavigate","InfoTooltip","onClose","isOpen","isSuccess","closeByEscape","document","currentTarget","successImage","faleImage","api","Api","credentials","redirect","_this2","_ref2","_this3","method","headers","Content-Type","body","_this4","_ref3","_this5","cardId","_this6","BASE_URL","register","authorize","getContent","ProtectedRouteElement","element","_objectWithoutProperties","Navigate","App","isTooltipOpen","setIsTooltipOpen","setIsSuccess","setCurrentUser","setIsLoggedIn","_React$useState9","_React$useState10","savedCards","setSavedCards","_React$useState11","_React$useState12","setSuccessCardRequest","getSavedMovies","auth","getUserContent","deleteMovie","Provider","Routes","Route","path","postMovie","_toConsumableArray","setUserInfo","logout","clear","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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","file":"static/js/main.7b4a9650.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_main-1.f43312f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.c04e6559.svg\";","module.exports = __webpack_public_path__ + \"static/media/student.1ec56c8d.png\";","module.exports = __webpack_public_path__ + \"static/media/Success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Fale.4072126c.svg\";","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SavedMoviesContext = createContext();\r\n","import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport \"./Navigation.css\";\r\nimport {NavLink, Link} from \"react-router-dom\";\r\n\r\nfunction Navigation({handleClose, activeItem}) {\r\n    const [isTransition, setIsTransition] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        setTimeout(() => {\r\n            setIsTransition(true);\r\n         }, 500);\r\n    }, [])\r\n\r\n    return(\r\n        <nav className={`nav ${isTransition && \"nav_active\"}`}>\r\n            <ul className=\"nav__list\">\r\n            <li className=\"nav__item\">\r\n            <NavLink className={`nav__link ${activeItem === \"none\" && \"nav__link_active\"}`} to=\"/\">Главная</NavLink>\r\n            </li>\r\n            <li className=\"nav__item\">\r\n            <NavLink className={`nav__link ${activeItem === \"movies\" && \"nav__link_active\"}`} to=\"/movies\">Фильмы</NavLink>\r\n            </li>\r\n            <li className=\"nav__item\">\r\n            <NavLink className={`nav__link ${activeItem === \"saved-movies\" && \"nav__link_active\"}`} to=\"/saved-movies\">Сохранённые фильмы</NavLink>\r\n            </li>\r\n        </ul>\r\n        <Link className=\"nav__link_type_profile\" to=\"/profile\">Аккаунт</Link>\r\n        <button type=\"button\" className=\"nav__close-btn\" onClick={handleClose}></button>\r\n        </nav>\r\n        \r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\n\r\nfunction Header({ isLoggedIn, activeItem }) {\r\n  const [isNav, setIsNav] = useState(false);\r\n  function handleBurgerClick() {\r\n    setIsNav(true);\r\n  }\r\n\r\n  function handleNavClose() {\r\n    setIsNav(false);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\">\r\n        <img src={logo} className=\"header__logo\" alt=\"Логотип сайта\"></img>\r\n      </Link>\r\n      {isLoggedIn ? (\r\n        <>\r\n          <div className=\"header__wrapper\">\r\n            <Link\r\n              className={`header__link ${\r\n                activeItem === \"movies\"\r\n                  ? \"header__link_type_movies-active\"\r\n                  : \"header__link_type_movies\"\r\n              }`}\r\n              to=\"/movies\"\r\n              replace\r\n            >\r\n              Фильмы\r\n            </Link>\r\n            <Link\r\n              className={`header__link ${\r\n                activeItem === \"saved-movies\"\r\n                  ? \"header__link_type_movies-active\"\r\n                  : \"header__link_type_movies\"\r\n              }`}\r\n              to=\"/saved-movies\"\r\n              replace\r\n            >\r\n              Сохранённые фильмы\r\n            </Link>\r\n          </div>\r\n          <Link\r\n            className=\"header__link header__link_type_profile\"\r\n            to=\"/profile\"\r\n            replace\r\n          >\r\n            Аккаунт\r\n          </Link>\r\n          <button className=\"burger\" onClick={handleBurgerClick}>\r\n            <span className=\"burger-line\"></span>\r\n            <span className=\"burger-line\"></span>\r\n            <span className=\"burger-line\"></span>\r\n          </button>\r\n          {isNav && (\r\n            <Navigation handleClose={handleNavClose} activeItem={activeItem} />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <Link\r\n            className=\"header__link header__link_type_register\"\r\n            to=\"/signup\"\r\n            replace\r\n          >\r\n            Регистрация\r\n          </Link>\r\n          <Link\r\n            className=\"header__link header__link_type_signin\"\r\n            to=\"/signin\"\r\n            replace\r\n          >\r\n            Войти\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport AnchorLink from \"react-anchor-link-smooth-scroll\";\r\nimport \"./Promo.css\";\r\n\r\n\r\nfunction Promo() {\r\n  return (\r\n    <section className=\"promo\">\r\n      <div className=\"promo__content\">\r\n        <h1 className=\"promo__title\">\r\n          Учебный проект студента факультета Веб-разработки.\r\n        </h1>\r\n      <ul className=\"promo__list\">\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#project\" className=\"promo__link\">\r\n            О проекте\r\n          </AnchorLink>\r\n        </li>\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#techs\" className=\"promo__link\">\r\n            Технологии\r\n          </AnchorLink>\r\n        </li>\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#aboutMe\" className=\"promo__link\">\r\n            Студент\r\n          </AnchorLink>\r\n        </li>\r\n      </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Promo;","import React from \"react\";\r\nimport \"./AboutProject.css\";\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className=\"project\" id=\"project\">\r\n      <h2 className=\"project__title\">О проекте</h2>\r\n      <div className=\"project__desc-wrapper\">\r\n        <div className=\"project__wrapper\">\r\n          <h3 className=\"project__subtitle\">\r\n            Дипломный проект включал 5 этапов\r\n          </h3>\r\n          <p className=\"project__description\">\r\n            Составление плана, работу над бэкендом, вёрстку, добавление\r\n            функциональности и финальные доработки.\r\n          </p>\r\n        </div>\r\n        <div className=\"project__wrapper\">\r\n          <h3 className=\"project__subtitle\">\r\n            На выполнение диплома ушло 5 недель\r\n          </h3>\r\n          <p className=\"project__description\">\r\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\r\n            соблюдать, чтобы успешно защититься.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"project__info\">\r\n        <div className=\"project__block\">\r\n          <span className=\"project__block-left\">1 неделя</span>\r\n          <span className=\"project__caption\">Back-end</span>\r\n        </div>\r\n        <div className=\"project__block\">\r\n          <span className=\"project__block-right\">4 недели</span>\r\n          <span className=\"project__caption\">Front-end</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import React from \"react\";\r\nimport \"./Techs.css\";\r\n\r\nfunction Techs() {\r\n  return (\r\n    <section className=\"techs\" id=\"techs\">\r\n      <h2 className=\"techs__title\">Технологии</h2>\r\n      <div className=\"techs__content\">\r\n        <h3 className=\"techs__subtitle\">7 технологий</h3>\r\n        <p className=\"techs__descr\">\r\n          На курсе веб-разработки мы освоили технологии, которые применили в\r\n          дипломном проекте.\r\n        </p>\r\n        <ul className=\"techs__list\">\r\n          <li className=\"techs__item\">HTML</li>\r\n          <li className=\"techs__item\">CSS</li>\r\n          <li className=\"techs__item\">JS</li>\r\n          <li className=\"techs__item\">React</li>\r\n          <li className=\"techs__item\">Git</li>\r\n          <li className=\"techs__item\">Express.js</li>\r\n          <li className=\"techs__item\">mongoDB</li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","import React from \"react\";\r\nimport \"./AboutMe.css\";\r\nimport photo from \"../../images/student.png\";\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className=\"about-me\" id=\"aboutMe\">\r\n      <h2 className=\"about-me__title\">Студент</h2>\r\n      <div className=\"about-me__content\">\r\n        <div className=\"about-me__block\">\r\n          <h3 className=\"about-me__subtitle\">Виталий</h3>\r\n          <span className=\"about-me__caption\">\r\n            Фронтенд-разработчик, 30 лет\r\n          </span>\r\n          <p className=\"about-me__descr\">\r\n            Я родился и живу в Саратове, закончил факультет экономики СГУ. У\r\n            меня есть жена и дочь. Я люблю слушать музыку, а ещё увлекаюсь\r\n            бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ\r\n            Контур». После того, как прошёл курс по веб-разработке, начал\r\n            заниматься фриланс-заказами и ушёл с постоянной работы.\r\n          </p>\r\n          <a\r\n            className=\"about-me__link\"\r\n            href=\"https://github.com/margaritaShevtsova\"\r\n          >\r\n            Github\r\n          </a>\r\n        </div>\r\n        <img className=\"about-me__image\" src={photo} alt=\"Фото студента\"></img>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","import React from \"react\";\r\nimport \"./Portfolio.css\";\r\nimport arrow from \"../../images/arrow.svg\";\r\n\r\nfunction Portfolio() {\r\n  return (\r\n    <section className=\"portfolio\">\r\n      <h2 className=\"portfolio__title\">Портфолио</h2>\r\n      <ul className=\"portfolio__list\">\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://margaritashevtsova.github.io/russian-travel/\"\r\n          >\r\n            <p className=\"portfolio__text\">Статичный сайт</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://margaritashevtsova.github.io/mesto\"\r\n          >\r\n            <p className=\"portfolio__text\">Адаптивный сайт</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://shevtsova.mesto.nomoredomains.xyz\"\r\n          >\r\n            <p className=\"portfolio__text\">Одностраничное приложение</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__descr\">\r\n        Учебный проект Яндекс.Практикум х BeatFilm.\r\n      </p>\r\n      <div className=\"footer__wrapper\">\r\n        <span className=\"footer__caption\">© 2020</span>\r\n        <div className=\"footer__block\">\r\n          <a className=\"footer__link\" href=\"https://practicum.yandex.ru\">\r\n            Яндекс.Практикум\r\n          </a>\r\n          <a\r\n            className=\"footer__link\"\r\n            href=\"https://github.com/margaritaShevtsova\"\r\n          >\r\n            Github\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header.js\";\r\nimport Promo from \"../Promo/Promo.js\"\r\nimport AboutProject from \"../AboutProject/AboutProject.js\";\r\nimport Techs from \"../Techs/Techs.js\";\r\nimport AboutMe from \"../AboutMe/AboutMe.js\";\r\nimport Portfolio from \"../Portfolio/Portfolio.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\n\r\nfunction Main({isLoggedIn, activeItem}) {\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} activeItem={activeItem}/>\r\n      <main>\r\n      <Promo/>\r\n      <AboutProject/>\r\n      <Techs/>\r\n      <AboutMe/>\r\n      <Portfolio/>\r\n      </main>\r\n      <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./FilterCheckbox.css\";\r\n\r\nfunction FilterCheckbox({onHandleChange, isChecked}) {\r\n  return (\r\n    <div className=\"checkbox\">\r\n      <input\r\n        className=\"checkbox__input\"\r\n        id=\"check\"\r\n        type=\"checkbox\"\r\n        checked={isChecked}\r\n        onChange={onHandleChange}\r\n      />\r\n      <label htmlFor=\"check\" className=\"checkbox__label\">Короткометражки</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterCheckbox;","import React, { useCallback } from \"react\";\r\nimport {validate} from \"react-email-validator\";\r\n\r\nexport function useForm() {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  return { values, handleChange, setValues };\r\n}\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    if (name === \"email\" && !validate(value)) {\r\n      setValues({ ...values, [name]: value });\r\n      setErrors({ ...errors, [name]: \"E-mail не валиден\" });\r\n      setIsValid(false);\r\n    } else {\r\n      setValues({ ...values, [name]: value });\r\n      setErrors({ ...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    }\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, setValues, handleChange, errors, isValid, resetForm, setIsValid };\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./SearchForm.css\";\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction SearchForm({\r\n  handleSearch,\r\n  handleCheckboxChange,\r\n  isChecked,\r\n  searchValue,\r\n}) {\r\n  const {\r\n    values,\r\n    setValues,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n  } = useFormWithValidation();\r\n\r\n  const [isSearchValue, setIsSearchValue] = useState(false);\r\n\r\n  useEffect(()=> {\r\n    setValues({search: searchValue});\r\n    if(searchValue) {\r\n      setIsSearchValue(true);\r\n    }\r\n  },[]);\r\n\r\n  function handleInputChange(e) {\r\n    handleChange(e);\r\n    setIsSearchValue(false);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleSearch(values.search);\r\n  }\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <div className=\"search__container\">\r\n        <form className=\"search__form\" onSubmit={handleSubmit}>\r\n          <div className=\"search__wrapper\">\r\n            <input\r\n              defaultValue={searchValue}\r\n              onChange={handleInputChange}\r\n              className=\"search__input\"\r\n              name=\"search\"\r\n              type=\"text\"\r\n              placeholder=\"Фильм\"\r\n              required\r\n              maxLength=\"60\"\r\n              minLength=\"1\"\r\n            />\r\n            <span className=\"search__error\">\r\n              {errors.search && \"Нужно ввести ключевое слово\"}\r\n            </span>\r\n            <button\r\n              className=\"search__btn\"\r\n              type=\"submit\"\r\n              disabled={!isValid && isSearchValue ? false : !isValid && !isSearchValue ? true : false}\r\n            ></button>\r\n          </div>\r\n          <FilterCheckbox\r\n            onHandleChange={handleCheckboxChange}\r\n            isChecked={isChecked}\r\n          />\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { useEffect } from \"react\";\r\nimport { SavedMoviesContext } from \"../../contexts/CurrentUserContext\";\r\nimport \"./MoviesCard.css\";\r\nimport { useState } from \"react\";\r\n\r\nfunction MoviesCard({\r\n  card,\r\n  handleAddMovie,\r\n  handleDeleteMovie,\r\n  isSavedCards,\r\n}) {\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  const savedMovies = React.useContext(SavedMoviesContext);\r\n\r\n  function makeDurationFormat(duration) {\r\n    const hours = Math.floor(duration / 60);\r\n    const minutes = duration % 60;\r\n    return `${hours > 0 ? `${hours}ч` : \"\"} ${\r\n      minutes > 0 ? `${minutes}м` : \"\"\r\n    }`;\r\n  }\r\n\r\n  const {\r\n    country,\r\n    director,\r\n    duration,\r\n    year,\r\n    description,\r\n    trailerLink,\r\n    nameRU,\r\n    nameEN,\r\n  } = card;\r\n\r\n  const movieId = card.id;\r\n  const image = isSavedCards\r\n    ? card.image\r\n    : `https://api.nomoreparties.co${card.image.url}`;\r\n  const thumbnail = isSavedCards\r\n    ? card.thumbnail\r\n    : `https://api.nomoreparties.co${card.image.formats.thumbnail.url}`;\r\n\r\n  useEffect(() => {\r\n    if (card.id && savedMovies) {\r\n      savedMovies.map((movie) => {\r\n        if (movie.movieId === card.id) {\r\n          setIsSaved(true);\r\n          card._id = movie._id;\r\n        }\r\n      });\r\n    }\r\n  }, [card, isSaved]);\r\n\r\n  function handleClick() {\r\n    if (!isSaved && !isSavedCards) {\r\n      handleAddMovie({\r\n        country,\r\n        director,\r\n        duration,\r\n        year,\r\n        description,\r\n        image,\r\n        trailerLink,\r\n        thumbnail,\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n      }).then(() => {\r\n          setIsSaved(true);\r\n      });\r\n    } else {\r\n      handleDeleteMovie(card).then(() => {\r\n          setIsSaved(false);\r\n          if(card._id && !savedMovies) {\r\n            card._id = null;\r\n          }\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <a\r\n        className=\"card__link\"\r\n        href={card.trailerLink}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <img\r\n          className=\"card__image\"\r\n          src={\r\n            isSavedCards\r\n              ? image\r\n              : `https://api.nomoreparties.co${card.image.url}`\r\n          }\r\n          alt={card.nameRU}\r\n        />\r\n      </a>\r\n      <button\r\n        className={\r\n          isSavedCards\r\n            ? \"card__save-btn_active-delete\"\r\n            : isSaved && !isSavedCards\r\n            ? \"card__save-btn_active\"\r\n            : \"card__save-btn\"\r\n        }\r\n        onClick={handleClick}\r\n      >\r\n        {!isSaved && !isSavedCards ? \"Сохранить\" : \"\"}\r\n      </button>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__name\">{card.nameRU}</h2>\r\n        <span className=\"card__descr\">{makeDurationFormat(card.duration)}</span>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport function useMediaQuery(query) {\r\n  const getMatches = (query) => {\r\n    if (typeof window !== \"undefined\") {\r\n      return window.matchMedia(query).matches;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const [matches, setMatches] = useState(getMatches(query));\r\n\r\n  function handleChange() {\r\n    setMatches(getMatches(query));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const matchMedia = window.matchMedia(query);\r\n\r\n    handleChange();\r\n\r\n    if (matchMedia.addListener) {\r\n      matchMedia.addListener(handleChange);\r\n    } else {\r\n      matchMedia.addEventListener(\"change\", handleChange);\r\n    }\r\n\r\n    return () => {\r\n      if (matchMedia.removeListener) {\r\n        matchMedia.removeListener(handleChange);\r\n      } else {\r\n        matchMedia.removeEventListener(\"change\", handleChange);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [query]);\r\n\r\n  return matches;\r\n}","import React, { useEffect } from \"react\";\r\nimport \"./MoviesCardList.css\";\r\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport { useMediaQuery } from \"../../hooks/useMediaQuery\";\r\n\r\nconst LG_ROW_CARD_COUNT = 3;\r\nconst MD_ROW_CARD_COUNT = 2;\r\nconst SM_ROW_CARD_COUNT = 2;\r\n\r\nconst LG_INITIAL_CARD_COUNT = 12;\r\nconst MD_INITIAL_CARD_COUNT = 8;\r\nconst SM_INITIAL_CARD_COUNT = 5;\r\n\r\nfunction MoviesCardList({\r\n  cards,\r\n  cardsSettings,\r\n  isSubmitted,\r\n  handleAddMovie,\r\n  handleDeleteMovie,\r\n  isSavedCards,\r\n  successCardRequest,\r\n}) {\r\n  const isDesktop = useMediaQuery(\"(min-width: 1260px)\");\r\n  const isTablet = useMediaQuery(\"(min-width: 768px)\");\r\n\r\n  const cardColumnCount = isDesktop\r\n    ? LG_ROW_CARD_COUNT\r\n    : isTablet\r\n    ? MD_ROW_CARD_COUNT\r\n    : SM_ROW_CARD_COUNT;\r\n\r\n  const initialCardCount = isDesktop\r\n    ? LG_INITIAL_CARD_COUNT\r\n    : isTablet\r\n    ? MD_INITIAL_CARD_COUNT\r\n    : SM_INITIAL_CARD_COUNT;\r\n\r\n  const [visibleCardCount, setVisibleCardCount] = React.useState(\r\n    initialCardCount\r\n  );\r\n\r\n\r\n  useEffect(() => {\r\n    setVisibleCardCount(initialCardCount);\r\n  }, [isSubmitted]);\r\n\r\n  const roundedVisibleCardCount =\r\n    Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount;\r\n\r\n  const handleClick = () => {\r\n    calculateCardCount();\r\n  };\r\n\r\n  const calculateCardCount = () => {\r\n    if (isDesktop) {\r\n      return setVisibleCardCount(visibleCardCount + LG_ROW_CARD_COUNT);\r\n    }\r\n\r\n    if (isTablet) {\r\n      return setVisibleCardCount(visibleCardCount + MD_ROW_CARD_COUNT);\r\n    }\r\n\r\n    setVisibleCardCount(visibleCardCount + SM_ROW_CARD_COUNT);\r\n  };\r\n\r\n  return (\r\n    <section className=\"cards\">\r\n      <ul className=\"cards__list\">\r\n        {cards.length === 0 && isSubmitted ? (\r\n          <span className=\"cards__statement\">Ничего не найдено</span>\r\n        ) : (\r\n          cards.length > 0 &&\r\n          cards\r\n            .slice(0, roundedVisibleCardCount)\r\n            .map((card) => (\r\n              <MoviesCard\r\n                key={card.id || card.movieId}\r\n                card={card}\r\n                handleAddMovie={handleAddMovie}\r\n                handleDeleteMovie={handleDeleteMovie}\r\n                isSavedCards={isSavedCards}\r\n                successCardRequest={successCardRequest}\r\n              />\r\n            ))\r\n        )}\r\n      </ul>\r\n      {roundedVisibleCardCount < cards.length && (\r\n        <button\r\n          className={`cards__btn ${cardsSettings !== \"allCards\" &&\r\n            \"cards__btn_visibility_hidden\"}`}\r\n          onClick={handleClick}\r\n        >\r\n          Ещё\r\n        </button>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import React from \"react\";\r\nimport \"./Preloader.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div className=\"preloader__container\">\r\n        <span className=\"preloader__round\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","function filterByName(cards, value) {\r\n  const filteredCards = cards.filter((card) => {\r\n    return (\r\n      card.nameRU.toLowerCase().includes(value.toLowerCase()) ||\r\n      card.nameEN.toLowerCase().includes(value.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return filteredCards;\r\n}\r\n\r\nfunction filterByDuration(cards, isChecked) {\r\n  const filteredCards = cards.filter((card) => {\r\n    if(isChecked) {\r\n      return card.duration <=40\r\n    } else {\r\n      return card;\r\n    }\r\n  });\r\n\r\n  return filteredCards;\r\n}\r\n\r\nexport function filter(cards, value, isChecked) {\r\n  console.log(cards);\r\n  let filteredCards = filterByDuration(cards, isChecked);\r\n  console.log(filteredCards);\r\n  return filterByName(filteredCards, value);\r\n}\r\n","class MoviesApi {\r\n  constructor({ adress }) {\r\n    this._adress = adress;\r\n  }\r\n\r\n  _checkResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getMovies() {\r\n    return fetch(this._adress).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst moviesApi = new MoviesApi({\r\n  adress: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n});\r\n\r\nexport default moviesApi;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Movies.css\";\r\nimport Header from \"../Header/Header\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport { filter } from \"../../utils/filter\";\r\nimport moviesApi from \"../../utils/MoviesApi\";\r\n\r\nfunction Movies({\r\n  activeItem,\r\n  isLoggedIn,\r\n  handleAddMovie,\r\n  handleDeleteMovie,\r\n  isSavedCards,\r\n  successCardRequest,\r\n}) {\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [filteredCards, setFilteredCards] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const searchSettings = JSON.parse(localStorage.getItem(\"searchSettings\"));\r\n    if (searchSettings) {\r\n      setFilteredCards(searchSettings.cards);\r\n      setSearchValue(searchSettings.searchValue);\r\n      setIsChecked(searchSettings.checked);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() =>{\r\n    if(cards.length > 0) {\r\n      setFilteredCards(filter(cards, searchValue, isChecked));\r\n      localStorage.setItem(\r\n        \"searchSettings\",\r\n        JSON.stringify({\r\n          cards: filter(cards, searchValue, isChecked),\r\n          searchValue: searchValue,\r\n          checked: isChecked,\r\n        })\r\n      );\r\n    } else if (filteredCards.length > 0) {\r\n      setFilteredCards(filter(filteredCards, searchValue, isChecked));\r\n      localStorage.setItem(\r\n        \"searchSettings\",\r\n        JSON.stringify({\r\n          cards: filter(cards, searchValue, isChecked),\r\n          searchValue: searchValue,\r\n          checked: isChecked,\r\n        })\r\n      );\r\n    }\r\n  },[isChecked])\r\n\r\n  function getAllMovies() {\r\n    return moviesApi\r\n      .getMovies()\r\n      .then((res) => {\r\n        setCards(res);\r\n        return res;\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  function handleSearch(value) {\r\n    if (cards.length === 0) {\r\n      setIsSubmitted(false);\r\n      setIsLoading(true);\r\n      return getAllMovies()\r\n        .then((res) => {\r\n          setFilteredCards(filter(res, value, isChecked));\r\n          localStorage.setItem(\r\n            \"searchSettings\",\r\n            JSON.stringify({\r\n              cards: filter(res, value, isChecked),\r\n              searchValue: value,\r\n              checked: isChecked,\r\n            })\r\n          );\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n          setIsSubmitted(true);\r\n        });\r\n    } else {\r\n      setFilteredCards(filter(cards, value, isChecked));\r\n      localStorage.setItem(\r\n        \"searchSettings\",\r\n        JSON.stringify({\r\n          cards: filter(cards, value, isChecked),\r\n          searchValue: value,\r\n          checked: isChecked,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleCheckboxChange() {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} activeItem={activeItem}/>\r\n      <main>\r\n        <SearchForm\r\n          handleSearch={handleSearch}\r\n          isChecked={isChecked}\r\n          handleCheckboxChange={handleCheckboxChange}\r\n          searchValue={searchValue}\r\n        />\r\n        {isLoading ? (\r\n          <Preloader />\r\n        ) : (\r\n          <MoviesCardList\r\n            cards={filteredCards}\r\n            cardsSettings=\"allCards\"\r\n            isSubmitted={isSubmitted}\r\n            handleAddMovie={handleAddMovie}\r\n            handleDeleteMovie={handleDeleteMovie}\r\n            isSavedCards={isSavedCards}\r\n            successCardRequest={successCardRequest}\r\n          />\r\n        )}\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","import React, { useState } from \"react\";\r\nimport \"./SavedMovies.css\";\r\nimport Header from \"../Header/Header\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport { filter } from \"../../utils/filter\";\r\nimport { SavedMoviesContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction SavedMovies({\r\n  activeItem,\r\n  isLoggedIn,\r\n  isSavedCards,\r\n  handleDeleteMovie,\r\n  successCardRequest,\r\n}) {\r\n  const [filteredCards, setFilteredCards] = useState(null);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const cards = React.useContext(SavedMoviesContext);\r\n\r\n  function handleSearch(value) {\r\n    if (cards.length > 0) setFilteredCards(filter(cards, value, isChecked));\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  function handleCheckboxChange() {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  function handleDeleteCard(card) {\r\n    return handleDeleteMovie(card)\r\n    .then(()=> {\r\n      if(isSubmitted)\r\n      setFilteredCards(() => {\r\n        return filteredCards.filter((item) => {\r\n          return item._id !== card._id;\r\n        });\r\n      });\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} activeItem={activeItem} />\r\n      <main>\r\n        <SearchForm\r\n          handleSearch={handleSearch}\r\n          isChecked={isChecked}\r\n          handleCheckboxChange={handleCheckboxChange}\r\n        />\r\n        <MoviesCardList\r\n          cardsSettings=\"savedCards\"\r\n          cards={filteredCards || cards}\r\n          isSavedCards={isSavedCards}\r\n          handleDeleteMovie={handleDeleteCard}\r\n          isSubmitted={isSubmitted}\r\n          successCardRequest={successCardRequest}\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Profile.css\";\r\nimport Header from \"../Header/Header\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Profile({ isLoggedIn, handleSetUserInfo, handleLogout }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    handleChange,\r\n    resetForm,\r\n    errors,\r\n    isValid,\r\n  } = useFormWithValidation();\r\n  const [isSaved, setIsSaved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setValues({ name: currentUser.name, email: currentUser.email });\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm(currentUser, {}, true);\r\n    }\r\n  }, [currentUser, resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!isSaved) {\r\n      setIsSaved(!isSaved);\r\n    } else {\r\n      handleSetUserInfo(values.name, values.email);\r\n      setIsSaved(!isSaved);\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} />\r\n      <div className=\"profile\">\r\n        <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n        <form className=\"profile__form\">\r\n          <div className=\"profile__wrapper\">\r\n            <div className=\"profile__block\">\r\n              <label className=\"profile__label\" htmlFor=\"inputName\">\r\n                Имя\r\n              </label>\r\n              <input\r\n                className=\"profile__input\"\r\n                onChange={handleChange}\r\n                value={values.name || \"\"}\r\n                id=\"inputName\"\r\n                type=\"text\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n                name=\"name\"\r\n                disabled={!isSaved ? \"disabled\" : \"\"}\r\n              />\r\n              <span className=\"profile__error\">{errors.name}</span>\r\n            </div>\r\n            <div className=\"profile__block\">\r\n              <label className=\"profile__label\" htmlFor=\"inputEmail\">\r\n                E-mail\r\n              </label>\r\n              <input\r\n                className=\"profile__input\"\r\n                onChange={handleChange}\r\n                value={values.email || \"\"}\r\n                id=\"inputEmail\"\r\n                type=\"email\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n                name=\"email\"\r\n                disabled={!isSaved ? \"disabled\" : \"\"}\r\n              />\r\n              <span className=\"profile__error\">{errors.email}</span>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"profile__edit-btn\"\r\n            onClick={handleSubmit}\r\n            disabled={\r\n              !isValid ||\r\n              (isSaved && (currentUser.name === values.name ||\r\n                currentUser.email === values.email))\r\n            }\r\n          >\r\n            {!isSaved ? \"Редактировать\" : \"Сохранить\"}\r\n          </button>\r\n        </form>\r\n        <button className=\"profile__exit-btn\" onClick={handleLogout}>\r\n          Выйти из аккаунта\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Register({handleRegister}) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleRegister(values.password, values.email, values.name);\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"register__container\">\r\n        <header>\r\n          <Link to=\"/\" className=\"register__logo-link\" replace>\r\n            <img\r\n              src={logo}\r\n              className=\"register__logo\"\r\n              alt=\"Логотип сайта\"\r\n            ></img>\r\n          </Link>\r\n        </header>\r\n        <main>\r\n          <h2 className=\"register__title\">Добро пожаловать!</h2>\r\n          <form\r\n            className=\"register__form\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <label className=\"register__label\">\r\n              Имя\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"register__input\"\r\n                required\r\n                placeholder=\"Имя\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.name || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.name && \"register__error\"}>\r\n                {errors.name || \"\"}\r\n              </span>\r\n            </label>\r\n            <label className=\"register__label\">\r\n              E-mail\r\n              <input\r\n                className=\"register__input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                placeholder=\"E-mail\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.email || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.email && \"register__error\"}>\r\n                {errors.email || \"\"}\r\n              </span>\r\n            </label>\r\n            <label className=\"register__label\">\r\n              Пароль\r\n              <input\r\n                className=\"register__input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                placeholder=\"Пароль\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.password || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.password && \"register__error\"}>\r\n                {errors.password || \"\"}\r\n              </span>\r\n            </label>\r\n            <span className=\"input__error\">\r\n              {!isValid && isSubmitted ? \"Что-то пошло не так\" : \"\"}\r\n            </span>\r\n            <button\r\n              className=\"register__btn\"\r\n              type=\"submit\"\r\n              disabled={!isValid}\r\n            >\r\n              Зарегистрироваться\r\n            </button>\r\n          </form>\r\n        </main>\r\n        <footer className=\"register__wrapper\">\r\n          <span className=\"register__caption\">Уже зарегистрированы? </span>\r\n          <Link className=\"register__link\" to=\"/signin\" replace>\r\n            Войти\r\n          </Link>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Login({ handleLogin }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleLogin(values.password, values.email);\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <header>\r\n          <Link to=\"/\" replace className=\"login__logo-link\">\r\n            <img src={logo} className=\"login__logo\" alt=\"Логотип сайта\"></img>\r\n          </Link>\r\n        </header>\r\n        <main>\r\n          <h2 className=\"login__title\">Рады видеть!</h2>\r\n          <form className=\"login__form\" onSubmit={handleSubmit}>\r\n            <label className=\"login__label\">\r\n              E-mail\r\n              <input\r\n                className=\"login__input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                placeholder=\"E-mail\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.email || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.email && \"login__error\"}>\r\n                {errors.email}\r\n              </span>\r\n            </label>\r\n            <label className=\"login__label\">\r\n              Пароль\r\n              <input\r\n                className=\"login__input login__input_error\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                placeholder=\"Пароль\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.password || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.password && \"login__error\"}>\r\n                {errors.password}\r\n              </span>\r\n            </label>\r\n            <span className=\"input__error\">\r\n              {!isValid && isSubmitted ? \"Что-то пошло не так\" : \"\"}\r\n            </span>\r\n            <button className=\"login__btn\" type=\"submit\" disabled={!isValid}>\r\n              Войти\r\n            </button>\r\n          </form>\r\n        </main>\r\n        <footer className=\"login__wrapper\">\r\n          <span className=\"login__caption\">Ещё не зарегистрированы?</span>\r\n          <Link className=\"login__link\" to=\"/signup\" replace>\r\n            Регистрация\r\n          </Link>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport \"./NotFound.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction NotFound() {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"not-found\">\r\n      <span className=\"not-found__descr\">404</span>\r\n      <h2 className=\"not-found__title\">Страница не найдена</h2>\r\n      <button className=\"not-found__btn\" onClick={() => navigate(-1)}>Назад</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, {useEffect} from \"react\";\r\nimport successImage from \"../../images/Success.svg\";\r\nimport faleImage from \"../../images/Fale.svg\";\r\nimport \"./InfoToolTip.css\";\r\n\r\nexport default function InfoTooltip({ onClose, isOpen, isSuccess }) {\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n        const closeByEscape = (e) => {\r\n          if (e.key === \"Escape\") {\r\n            onClose();\r\n          }\r\n        };\r\n    \r\n        document.addEventListener(\"keydown\", closeByEscape);\r\n        return () => document.removeEventListener(\"keydown\", closeByEscape);\r\n      }, [isOpen, onClose]);\r\n    \r\n      const handleOverlay = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n          onClose();\r\n        }\r\n      };\r\n\r\n      return (\r\n        <div\r\n          className={`tooltip ${isOpen ? \"tooltip_opened\" : \"\"}`}\r\n          onClick={handleOverlay}\r\n        >\r\n          <div className=\"tooltip__container\">\r\n          <img\r\n          className=\"tooltip__image\"\r\n          src={isSuccess ? successImage : faleImage}\r\n          alt={isSuccess ? \"Знак галочки\" : \"Знак крестика\"}\r\n        />\r\n            <button className=\"tooltip__close-btn\" type=\"button\" onClick={onClose} />\r\n          </div>\r\n        </div>\r\n      );\r\n  \r\n}","class Api {\r\n  constructor({ adress }) {\r\n    this._adress = adress;\r\n  }\r\n\r\n  _checkResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  logout() {\r\n    return fetch(this._adress + \"/signout\", {\r\n      credentials: \"include\",\r\n      redirect:\"follow\"\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._adress + \"/users/me\", {\r\n      credentials: 'include',\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  setUserInfo({ name, email }) {\r\n    return fetch(this._adress + \"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n      }),\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  getSavedMovies() {\r\n    return fetch(this._adress + \"/movies\", {\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  postMovie({\r\n    country,\r\n    director,\r\n    duration,\r\n    year,\r\n    description,\r\n    image,\r\n    trailerLink,\r\n    thumbnail,\r\n    movieId,\r\n    nameRU,\r\n    nameEN,\r\n  }) {\r\n    return fetch(this._adress + \"/movies\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        country,\r\n        director,\r\n        duration,\r\n        year,\r\n        description,\r\n        image,\r\n        trailerLink,\r\n        thumbnail,\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n      }),\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  deleteMovie(cardId) {\r\n    return fetch(this._adress + \"/movies/\" + cardId, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  adress: \"https://shevtsova.movies.nomoreparties.sbs/api\",\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = \"https://shevtsova.movies.nomoreparties.sbs/api\";\r\n\r\n\r\nfunction _checkResponseStatus(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nexport const register = (password, email, name) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ password, email, name }),\r\n  }).then((res) => {\r\n    return _checkResponseStatus(res);\r\n  });\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ password, email }),\r\n  }).then((res) => {\r\n    return _checkResponseStatus(res);\r\n  })\r\n};\r\n\r\nexport const getContent = () => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then((res) => {\r\n      return _checkResponseStatus(res);\r\n    });\r\n  };","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRouteElement = ({ element, ...props}) => {\r\n  return (\r\n    props.isLoggedIn ? element : <Navigate to=\"/\" replace/>\r\n)}\r\n\r\nexport default ProtectedRouteElement; ","import \"./App.css\";\nimport React, { useEffect } from \"react\";\nimport {\n  CurrentUserContext,\n  SavedMoviesContext,\n} from \"../../contexts/CurrentUserContext\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Main from \"../Main/Main.js\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport Profile from \"../Profile/Profile\";\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport NotFound from \"../NotFound/NotFound\";\nimport InfoTooltip from \"../InfoToolTip/InfoToolTip\";\nimport api from \"../../utils/MainApi\";\nimport * as auth from \"../../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProtectedRouteElement from \"../ProtectedRoute/ProtectedRoute\";\n\nfunction App() {\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [savedCards, setSavedCards] = React.useState([]);\n  const [successCardRequest, setSuccessCardRequest] = React.useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      getUserContent().then(() => {\n        navigate(\"/movies\", { replace: true });\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if(isLoggedIn) {\n      getSavedMovies();\n    }\n  }, []);\n\n  function getSavedMovies() {\n    api\n      .getSavedMovies()\n      .then((res) => {\n        setSavedCards(res);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleRegister(password, email, name) {\n    return auth\n      .register(password, email, name)\n      .then(() => {\n        handleLogin(password, email);\n      })\n      .catch(() => {\n        setIsSuccess(false);\n        setIsTooltipOpen(true);\n        setIsLoggedIn(false);\n      });\n  }\n\n  function handleLogin(password, email) {\n    return auth\n      .authorize(password, email)\n      .then((res) => {\n        setIsLoggedIn(true);\n        navigate(\"/movies\", { replace: true });\n        getUserContent()\n        .then(() => {\n          getSavedMovies();\n        })\n      })\n      .catch(() => {\n        setIsSuccess(false);\n        setIsTooltipOpen(true);\n      });\n  }\n\n  function getUserContent() {\n    return auth\n      .getContent()\n      .then((res) => {\n        if (res) {\n          setIsLoggedIn(true);\n          setCurrentUser(res);\n        }\n      })\n      .catch((err) => {\n        setIsLoggedIn(false);\n        console.error(err);\n      });\n  }\n\n  function addSavedMovie({\n    country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailerLink,\n    thumbnail,\n    movieId,\n    nameRU,\n    nameEN,\n  }) {\n    return api\n      .postMovie({\n        country,\n        director,\n        duration,\n        year,\n        description,\n        image,\n        trailerLink,\n        thumbnail,\n        movieId,\n        nameRU,\n        nameEN,\n      })\n      .then((res) => {\n        console.log(res);\n        setSuccessCardRequest(true);\n        setSavedCards([...savedCards, res]);\n      })\n      .then(() => {\n        console.log(savedCards);\n      })\n      .catch((err) => {\n        setSuccessCardRequest(false);\n        console.error(err);\n      });\n  }\n\n  function handleDeleteMovie(card) {\n    return api\n      .deleteMovie(card._id)\n      .then(() => {\n        setSuccessCardRequest(true);\n        setSavedCards(() => {\n          return savedCards.filter((item) => {\n            return item._id !== card._id;\n          });\n        });\n      })\n      .catch((err) => {\n        setSuccessCardRequest(false);\n        console.error(err);\n      });\n  }\n\n  function setUserInfo(name, email) {\n    api\n      .setUserInfo({ name: name, email: email })\n      .then((res) => {\n        setCurrentUser({ name: res.name, email: res.email });\n        setIsSuccess(true);\n        setIsTooltipOpen(true);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleLogout() {\n    api\n      .logout()\n      .then(() => {\n        setIsLoggedIn(false);\n        localStorage.clear();\n        navigate(\"/\", { replace: true });\n        console.log(\"Вы успешно вышли из аккаунта\");\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const closeAllPopups = () => {\n    setIsTooltipOpen(false);\n    setTimeout(() => {\n      setIsSuccess(false);\n    }, 300);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SavedMoviesContext.Provider value={savedCards}>\n        <div className=\"page\">\n          <Routes>\n            <Route path=\"/\" element={<Main isLoggedIn={isLoggedIn} activeItem=\"none\"/>} />\n            <Route\n              path=\"/movies\"\n              element={\n                <ProtectedRouteElement\n                  element={\n                    <Movies\n                      isLoggedIn={isLoggedIn}\n                      handleAddMovie={addSavedMovie}\n                      handleDeleteMovie={handleDeleteMovie}\n                      isSavedCards={false}\n                      savedCards={savedCards}\n                      successCardRequest={successCardRequest}\n                      activeItem=\"movies\"\n                    />\n                  }\n                  isLoggedIn={isLoggedIn}\n                />\n              }\n            />\n            <Route\n              path=\"/saved-movies\"\n              element={\n                <ProtectedRouteElement\n                  element={\n                    <SavedMovies\n                      isLoggedIn={isLoggedIn}\n                      isSavedCards={true}\n                      handleDeleteMovie={handleDeleteMovie}\n                      successCardRequest={successCardRequest}\n                      activeItem=\"saved-movies\"\n                    />\n                  }\n                  isLoggedIn={isLoggedIn}\n                />\n              }\n            />\n            <Route\n              path=\"/profile\"\n              element={\n                <ProtectedRouteElement\n                  element={\n                    <Profile\n                      isLoggedIn={isLoggedIn}\n                      handleSetUserInfo={setUserInfo}\n                      handleLogout={handleLogout}\n                    />\n                  }\n                  isLoggedIn={isLoggedIn}\n                />\n              }\n            />\n            <Route\n              path=\"/signup\"\n              element={<Register handleRegister={handleRegister} />}\n            />\n            <Route\n              path=\"/signin\"\n              element={<Login handleLogin={handleLogin} />}\n            />\n            <Route path=\"*\" element={<NotFound />} />\n          </Routes>\n          <InfoTooltip\n            onClose={closeAllPopups}\n            isOpen={isTooltipOpen}\n            isSuccess={isSuccess}\n          />\n        </div>\n      </SavedMoviesContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./components/App/App.js\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}