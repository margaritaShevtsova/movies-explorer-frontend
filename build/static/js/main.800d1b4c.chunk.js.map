{"version":3,"sources":["images/logo_main-1.svg","images/arrow.svg","images/student.png","images/Success.svg","images/Fale.svg","contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Header/Header.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","components/Main/Main.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","hooks/useMediaQuery.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","utils/filter.js","utils/MoviesApi.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","hooks/useForm.js","components/Profile/Profile.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","components/InfoToolTip/InfoToolTip.js","utils/MainApi.js","utils/auth.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","createContext","SavedMoviesContext","Navigation","_ref","handleClose","activeItem","_useState","useState","_useState2","_slicedToArray","isTransition","setIsTransition","useEffect","setTimeout","React","createElement","className","concat","NavLink","to","Link","type","onClick","Header","isLoggedIn","isNav","setIsNav","src","logo","alt","Fragment","replace","Promo","AnchorLink","href","AboutProject","id","Techs","AboutMe","photo","Portfolio","target","rel","arrow","Footer","Main","FilterCheckbox","onHandleChange","isChecked","checked","onChange","htmlFor","SearchForm","handleSearch","handleCheckboxChange","searchValue","search","formValue","setFormValue","onSubmit","e","preventDefault","defaultValue","_e$target","name","value","_objectSpread","_defineProperty","placeholder","required","maxLength","minLength","MoviesCard","card","handleAddMovie","handleDeleteMovie","isSavedCards","isSaved","setIsSaved","savedMovies","useContext","country","director","duration","year","description","trailerLink","nameRU","nameEN","movieId","image","url","thumbnail","formats","map","movie","_id","hours","Math","floor","minutes","makeDurationFormat","useMediaQuery","query","getMatches","window","matchMedia","matches","setMatches","handleChange","addListener","addEventListener","removeListener","removeEventListener","LG_ROW_CARD_COUNT","MD_ROW_CARD_COUNT","SM_ROW_CARD_COUNT","LG_INITIAL_CARD_COUNT","MD_INITIAL_CARD_COUNT","SM_INITIAL_CARD_COUNT","MoviesCardList","cards","cardsSettings","isSubmitted","isDesktop","isTablet","cardColumnCount","initialCardCount","_React$useState","_React$useState2","visibleCardCount","setVisibleCardCount","roundedVisibleCardCount","calculateCardCount","length","slice","key","Preloader","filter","console","log","filteredCards","filterByDuration","toLowerCase","includes","filterByName","moviesApi","MoviesApi","adress","_classCallCheck","this","_adress","_createClass","res","ok","json","Promise","reject","status","_this","fetch","then","_checkResponseStatus","Movies","setIsChecked","isLoading","setIsLoading","_React$useState3","_React$useState4","setCards","_useState3","_useState4","setFilteredCards","_useState5","_useState6","setSearchValue","_useState7","_useState8","setIsSubmitted","searchSettings","JSON","parse","localStorage","getItem","getMovies","catch","err","error","setItem","stringify","finally","SavedMovies","useFormWithValidation","values","setValues","_React$useState5","_React$useState6","errors","setErrors","_React$useState7","_React$useState8","isValid","setIsValid","resetForm","useCallback","newValues","arguments","undefined","newErrors","newIsValid","event","validationMessage","closest","checkValidity","Profile","handleSetUserInfo","handleLogout","currentUser","_useFormWithValidatio","email","disabled","Register","handleRegister","password","Login","handleLogin","NotFound","navigate","useNavigate","InfoTooltip","onClose","isOpen","isSuccess","closeByEscape","document","currentTarget","successImage","faleImage","api","Api","credentials","_this2","_ref2","_this3","method","headers","Content-Type","body","_this4","_ref3","_this5","cardId","_this6","BASE_URL","register","authorize","getContent","ProtectedRouteElement","element","_objectWithoutProperties","Navigate","App","isTooltipOpen","setIsTooltipOpen","setIsSuccess","setCurrentUser","setIsLoggedIn","_React$useState9","_React$useState10","savedCards","setSavedCards","getSavedMovies","getUserContent","auth","deleteMovie","state","item","Provider","Routes","Route","path","postMovie","setUserInfo","logout","clear","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter"],"mappings":"mFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wkBCE3BC,SAAqBC,2BACrBC,EAAqBD,uEC+BnBE,MA7Bf,SAAmBC,GAA4B,IAA1BC,EAAWD,EAAXC,YAAaC,EAAUF,EAAVE,WAAUC,EACAC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAhDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAQpC,OANAI,oBAAU,WACNC,WAAW,WACPF,GAAgB,IAChB,MACL,IAGCG,IAAAC,cAAA,OAAKC,UAAS,OAAAC,OAASP,GAAgB,eACnCI,IAAAC,cAAA,MAAIC,UAAU,aACdF,IAAAC,cAAA,MAAIC,UAAU,aACdF,IAAAC,cAACG,IAAO,CAACF,UAAU,YAAYG,GAAG,KAAI,+CAEtCL,IAAAC,cAAA,MAAIC,UAAU,aACdF,IAAAC,cAACG,IAAO,CAACF,UAAS,aAAAC,OAA8B,yCAAfZ,GAA2B,oBAAsBc,GAAG,WAAU,yCAE/FL,IAAAC,cAAA,MAAIC,UAAU,aACdF,IAAAC,cAACG,IAAO,CAACF,UAAS,aAAAC,OAA8B,iEAAfZ,GAA+B,oBAAsBc,GAAG,iBAAgB,6GAG7GL,IAAAC,cAACK,IAAI,CAACJ,UAAU,yBAAyBG,GAAG,YAAW,8CACvDL,IAAAC,cAAA,UAAQM,KAAK,SAASL,UAAU,iBAAiBM,QAASlB,MCkDnDmB,MAvEf,SAAepB,GAAiB,IAAdqB,EAAUrB,EAAVqB,WAAUlB,EACAC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAlCmB,EAAKjB,EAAA,GAAEkB,EAAQlB,EAAA,GAStB,OACEM,IAAAC,cAAA,UAAQC,UAAU,UAChBF,IAAAC,cAACK,IAAI,CAACD,GAAG,KACPL,IAAAC,cAAA,OAAKY,IAAKC,IAAMZ,UAAU,eAAea,IAAI,+EAE9CL,EACCV,IAAAC,cAAAD,IAAAgB,SAAA,KACEhB,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAACK,IAAI,CACHJ,UAAU,wCACVG,GAAG,UACHY,SAAO,GACR,wCAGDjB,IAAAC,cAACK,IAAI,CACHJ,UAAU,8CACVG,GAAG,gBACHY,SAAO,GACR,4GAIHjB,IAAAC,cAACK,IAAI,CACHJ,UAAU,yCACVG,GAAG,WACHY,SAAO,GACR,8CAGDjB,IAAAC,cAAA,UAAQC,UAAU,SAASM,QAtCnC,WACEI,GAAS,KAsCDZ,IAAAC,cAAA,QAAMC,UAAU,gBAChBF,IAAAC,cAAA,QAAMC,UAAU,gBAChBF,IAAAC,cAAA,QAAMC,UAAU,iBAEjBS,GACCX,IAAAC,cAACb,EAAU,CAACE,YAxCtB,WACEsB,GAAS,IAuCwCrB,WAAW,0CAIxDS,IAAAC,cAAA,WACED,IAAAC,cAACK,IAAI,CACHJ,UAAU,0CACVG,GAAG,UACHY,SAAO,GACR,sEAGDjB,IAAAC,cAACK,IAAI,CACHJ,UAAU,wCACVG,GAAG,UACHY,SAAO,GACR,4DCnCIC,MA7Bf,WACE,OACElB,IAAAC,cAAA,WAASC,UAAU,SACjBF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIC,UAAU,gBAAe,kRAG/BF,IAAAC,cAAA,MAAIC,UAAU,eACZF,IAAAC,cAAA,MAAIC,UAAU,eACZF,IAAAC,cAACkB,IAAU,CAACC,KAAK,WAAWlB,UAAU,eAAc,sDAItDF,IAAAC,cAAA,MAAIC,UAAU,eACZF,IAAAC,cAACkB,IAAU,CAACC,KAAK,SAASlB,UAAU,eAAc,iEAIpDF,IAAAC,cAAA,MAAIC,UAAU,eACZF,IAAAC,cAACkB,IAAU,CAACC,KAAK,WAAWlB,UAAU,eAAc,yDCiB/CmB,MAtCf,WACE,OACErB,IAAAC,cAAA,WAASC,UAAU,UAAUoB,GAAG,WAC9BtB,IAAAC,cAAA,MAAIC,UAAU,kBAAiB,qDAC/BF,IAAAC,cAAA,OAAKC,UAAU,yBACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,MAAIC,UAAU,qBAAoB,iLAGlCF,IAAAC,cAAA,KAAGC,UAAU,wBAAuB,ihBAKtCF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,MAAIC,UAAU,qBAAoB,wLAGlCF,IAAAC,cAAA,KAAGC,UAAU,wBAAuB,+gBAMxCF,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,QAAMC,UAAU,uBAAsB,0CACtCF,IAAAC,cAAA,QAAMC,UAAU,oBAAmB,aAErCF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,QAAMC,UAAU,wBAAuB,0CACvCF,IAAAC,cAAA,QAAMC,UAAU,oBAAmB,uBCP9BqB,MAxBf,WACE,OACEvB,IAAAC,cAAA,WAASC,UAAU,QAAQoB,GAAG,SAC5BtB,IAAAC,cAAA,MAAIC,UAAU,gBAAe,gEAC7BF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIC,UAAU,mBAAkB,kEAChCF,IAAAC,cAAA,KAAGC,UAAU,gBAAe,icAI5BF,IAAAC,cAAA,MAAIC,UAAU,eACZF,IAAAC,cAAA,MAAIC,UAAU,eAAc,QAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,OAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,MAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,SAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,OAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,cAC5BF,IAAAC,cAAA,MAAIC,UAAU,eAAc,wCCcvBsB,MA9Bf,WACE,OACExB,IAAAC,cAAA,WAASC,UAAU,WAAWoB,GAAG,WAC/BtB,IAAAC,cAAA,MAAIC,UAAU,mBAAkB,8CAChCF,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,MAAIC,UAAU,sBAAqB,8CACnCF,IAAAC,cAAA,QAAMC,UAAU,qBAAoB,8IAGpCF,IAAAC,cAAA,KAAGC,UAAU,mBAAkB,+/CAO/BF,IAAAC,cAAA,KACEC,UAAU,iBACVkB,KAAK,yCACN,WAIHpB,IAAAC,cAAA,OAAKC,UAAU,kBAAkBW,IAAKY,IAAOV,IAAI,0GC+B1CW,MAvDf,WACE,OACE1B,IAAAC,cAAA,WAASC,UAAU,aACjBF,IAAAC,cAAA,MAAIC,UAAU,oBAAmB,0DACjCF,IAAAC,cAAA,MAAIC,UAAU,mBACZF,IAAAC,cAAA,MAAIC,UAAU,mBACZF,IAAAC,cAAA,KACEC,UAAU,kBACVyB,OAAO,SACPC,IAAI,sBACJR,KAAK,wDAELpB,IAAAC,cAAA,KAAGC,UAAU,mBAAkB,mFAC/BF,IAAAC,cAAA,OACEC,UAAU,iBACVW,IAAKgB,IACLd,IAAI,kGAIVf,IAAAC,cAAA,MAAIC,UAAU,mBACZF,IAAAC,cAAA,KACEC,UAAU,kBACVyB,OAAO,SACPC,IAAI,sBACJR,KAAK,8CAELpB,IAAAC,cAAA,KAAGC,UAAU,mBAAkB,yFAC/BF,IAAAC,cAAA,OACEC,UAAU,iBACVW,IAAKgB,IACLd,IAAI,kGAIVf,IAAAC,cAAA,MAAIC,UAAU,mBACZF,IAAAC,cAAA,KACEC,UAAU,kBACVyB,OAAO,SACPC,IAAI,sBACJR,KAAK,6CAELpB,IAAAC,cAAA,KAAGC,UAAU,mBAAkB,qJAC/BF,IAAAC,cAAA,OACEC,UAAU,iBACVW,IAAKgB,IACLd,IAAI,2GCvBHe,MAxBf,WACE,OACE9B,IAAAC,cAAA,UAAQC,UAAU,UAChBF,IAAAC,cAAA,KAAGC,UAAU,iBAAgB,gMAG7BF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,QAAMC,UAAU,mBAAkB,aAClCF,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,KAAGC,UAAU,eAAekB,KAAK,+BAA8B,+FAG/DpB,IAAAC,cAAA,KACEC,UAAU,eACVkB,KAAK,yCACN,cCOIW,MAhBf,SAAa1C,GAAe,IAAbqB,EAAUrB,EAAVqB,WACb,OACEV,IAAAC,cAAAD,IAAAgB,SAAA,KACEhB,IAAAC,cAACQ,EAAM,CAACC,WAAYA,IACpBV,IAAAC,cAAA,YACAD,IAAAC,cAACiB,EAAK,MACNlB,IAAAC,cAACoB,EAAY,MACbrB,IAAAC,cAACsB,EAAK,MACNvB,IAAAC,cAACuB,EAAO,MACRxB,IAAAC,cAACyB,EAAS,OAEV1B,IAAAC,cAAC6B,EAAM,2CCFEE,MAff,SAAuB3C,GAA8B,IAA5B4C,EAAc5C,EAAd4C,eAAgBC,EAAS7C,EAAT6C,UACvC,OACElC,IAAAC,cAAA,OAAKC,UAAU,YACbF,IAAAC,cAAA,SACEC,UAAU,kBACVoB,GAAG,QACHf,KAAK,WACL4B,QAASD,EACTE,SAAUH,IAEZjC,IAAAC,cAAA,SAAOoC,QAAQ,QAAQnC,UAAU,mBAAkB,gGCmC1CoC,MA3Cf,SAAmBjD,GAA+D,IAA7DkD,EAAYlD,EAAZkD,aAAcC,EAAoBnD,EAApBmD,qBAAsBN,EAAS7C,EAAT6C,UAAWO,EAAWpD,EAAXoD,YAAWjD,EAE3CC,mBAAS,CAACiD,OAAQD,IAAa/C,EAAAC,YAAAH,EAAA,GAA1DmD,EAASjD,EAAA,GAAEkD,EAAYlD,EAAA,GAgB9B,OACEM,IAAAC,cAAA,WAASC,UAAU,UACjBF,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,QAAMC,UAAU,eAAe2C,SARrC,SAAsBC,GACpBA,EAAEC,iBACFR,EAAaI,EAAUD,UAOjB1C,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,SACE+C,aAAcP,EACdL,SArBS,SAACU,GAAM,IAAAG,EACFH,EAAEnB,OAAlBuB,EAAID,EAAJC,KAAMC,EAAKF,EAALE,MAEdP,EAAYQ,YAAA,GACPT,EAASU,YAAA,GACXH,EAAOC,MAiBAjD,UAAU,gBACVgD,KAAK,SACL3C,KAAK,OACL+C,YAAY,iCACZC,UAAQ,EACRC,UAAU,KACVC,UAAU,MAEZzD,IAAAC,cAAA,UAAQC,UAAU,cAAcK,KAAK,YAEvCP,IAAAC,cAAC+B,EAAc,CAACC,eAAgBO,EAAsBN,UAAWA,oBCmE5DwB,MAvGf,SAAmBrE,GAKhB,IAJDsE,EAAItE,EAAJsE,KACAC,EAAcvE,EAAduE,eACAC,EAAiBxE,EAAjBwE,kBACAC,EAAYzE,EAAZyE,aAAYtE,EAEkBC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCuE,EAAOrE,EAAA,GAAEsE,EAAUtE,EAAA,GACpBuE,EAAcjE,IAAMkE,WAAW/E,GAWnCgF,EAQER,EARFQ,QACAC,EAOET,EAPFS,SACAC,EAMEV,EANFU,SACAC,EAKEX,EALFW,KACAC,EAIEZ,EAJFY,YACAC,EAGEb,EAHFa,YACAC,EAEEd,EAFFc,OACAC,EACEf,EADFe,OAGIC,EAAUhB,EAAKrC,GACfsD,EAAQd,EACVH,EAAKiB,MAAK,+BAAAzE,OACqBwD,EAAKiB,MAAMC,KACxCC,EAAYhB,EACdH,EAAKmB,UAAS,+BAAA3E,OACiBwD,EAAKiB,MAAMG,QAAQD,UAAUD,KAmChE,OAjCA/E,oBAAU,WACJ6D,EAAKrC,IAAM2C,GACbA,EAAYe,IAAI,SAACC,GACXA,EAAMN,UAAYhB,EAAKrC,KACzB0C,GAAW,GACXL,EAAKuB,IAAMD,EAAMC,QAIvB,CAACvB,IAyBD3D,IAAAC,cAAA,MAAIC,UAAU,QACZF,IAAAC,cAAA,KACEC,UAAU,aACVkB,KAAMuC,EAAKa,YACX7C,OAAO,SACPC,IAAI,uBAEJ5B,IAAAC,cAAA,OACEC,UAAU,cACVW,IACEiD,EACIc,EAAK,+BAAAzE,OAC0BwD,EAAKiB,MAAMC,KAEhD9D,IAAK4C,EAAKc,UAGdzE,IAAAC,cAAA,UACEC,UACG6D,GAAYD,EAAkC,wBAAnB,iBAE9BtD,QA5CN,WACOuD,GAAYD,GAgBfD,EAAkBF,GAClBK,GAAW,KAhBXJ,EAAe,CACbO,UACAC,WACAC,WACAC,OACAC,cACAK,QACAJ,cACAM,YACAH,UACAF,SACAC,WAEFV,GAAW,MA+BPD,GAAYD,EAA6B,GAAd,0DAE/B9D,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,MAAIC,UAAU,cAAcyD,EAAKc,QACjCzE,IAAAC,cAAA,QAAMC,UAAU,eAxFtB,SAA4BmE,GAC1B,IAAMc,EAAQC,KAAKC,MAAMhB,EAAW,IAC9BiB,EAAUjB,EAAW,GAC3B,SAAAlE,OAAUgF,EAAQ,EAAC,GAAAhF,OAAMgF,EAAK,UAAM,GAAE,KAAAhF,OACpCmF,EAAU,EAAC,GAAAnF,OAAMmF,EAAO,UAAM,IAoFGC,CAAmB5B,EAAKU,cCpGxD,SAASmB,EAAcC,GAC5B,IAAMC,EAAa,SAACD,GAClB,MAAsB,qBAAXE,QACFA,OAAOC,WAAWH,GAAOI,SAGlCrG,EAE4BC,mBAASiG,EAAWD,IAAO/F,EAAAC,YAAAH,EAAA,GAAlDqG,EAAOnG,EAAA,GAAEoG,EAAUpG,EAAA,GAE1B,SAASqG,IACPD,EAAWJ,EAAWD,IAwBxB,OArBA3F,oBAAU,WACR,IAAM8F,EAAaD,OAAOC,WAAWH,GAUrC,OARAM,IAEIH,EAAWI,YACbJ,EAAWI,YAAYD,GAEvBH,EAAWK,iBAAiB,SAAUF,GAGjC,WACDH,EAAWM,eACbN,EAAWM,eAAeH,GAE1BH,EAAWO,oBAAoB,SAAUJ,KAI5C,CAACN,IAEGI,EChCT,IAAMO,EAAoB,EACpBC,EAAoB,EACpBC,EAAoB,EAEpBC,EAAwB,GACxBC,EAAwB,EACxBC,EAAwB,EA8DfC,MA5Df,SAAuBrH,GAAyF,IAAtFsH,EAAKtH,EAALsH,MAAOC,EAAavH,EAAbuH,cAAeC,EAAWxH,EAAXwH,YAAajD,EAAcvE,EAAduE,eAAgBC,EAAiBxE,EAAjBwE,kBAAmBC,EAAYzE,EAAZyE,aACxFgD,EAAYtB,EAAc,uBAC1BuB,EAAWvB,EAAc,sBAEzBwB,EAAkBF,EACpBV,EACAW,EACAV,EACAC,EAEEW,EAAmBH,EACrBP,EACAQ,EACAP,EACAC,EAAsBS,EAEsBlH,IAAMP,SACpDwH,GACDE,EAAAxH,YAAAuH,EAAA,GAFME,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAItCG,EACJlC,KAAKC,MAAM+B,EAAmBJ,GAAmBA,EAM7CO,EAAqB,WACzB,OAAIT,EACKO,EAAoBD,EAAmBhB,GAG5CW,EACKM,EAAoBD,EAAmBf,QAGhDgB,EAAoBD,EAAmBd,IAGzC,OACEtG,IAAAC,cAAA,WAASC,UAAU,SACjBF,IAAAC,cAAA,MAAIC,UAAU,eACO,IAAjByG,EAAMa,QAAgBX,EAAgB7G,IAAAC,cAAA,QAAMC,UAAU,oBAAmB,gGACzEyG,EAAMa,OAAS,GAAKb,EAAMc,MAAM,EAAGH,GAAyBtC,IAAI,SAACrB,GAAI,OACrE3D,IAAAC,cAACyD,EAAU,CAACgE,IAAK/D,EAAKrC,IAAMqC,EAAKgB,QAAShB,KAAMA,EAAMC,eAAgBA,EAAgBC,kBAAmBA,EAAmBC,aAAcA,OAG7IwD,EAA0BX,EAAMa,QAC/BxH,IAAAC,cAAA,UACEC,UAAS,cAAAC,OAAkC,aAAlByG,GACvB,gCACFpG,QA5BY,WAClB+G,MA4BK,wBCpDMI,SAVG,WAChB,OACE3H,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,OAAKC,UAAU,wBACbF,IAAAC,cAAA,QAAMC,UAAU,yBCgBjB,SAAS0H,EAAOjB,EAAOxD,EAAOjB,GACnC2F,QAAQC,IAAInB,GACZ,IAAIoB,EAdN,SAA0BpB,EAAOzE,GAS/B,OARsByE,EAAMiB,OAAO,SAACjE,GAClC,OAAGzB,EACMyB,EAAKU,UAAW,GAEhBV,IASSqE,CAAiBrB,EAAOzE,GAE5C,OADA2F,QAAQC,IAAIC,GA1Bd,SAAsBpB,EAAOxD,GAQ3B,OAPsBwD,EAAMiB,OAAO,SAACjE,GAClC,OACEA,EAAKc,OAAOwD,cAAcC,SAAS/E,EAAM8E,gBACzCtE,EAAKe,OAAOuD,cAAcC,SAAS/E,EAAM8E,iBAuBtCE,CAAaJ,EAAe5E,qBCJtBiF,EAJG,IAnBH,WACb,SAAAC,EAAAhJ,GAAwB,IAAViJ,EAAMjJ,EAANiJ,OAAMC,YAAAC,KAAAH,GAClBG,KAAKC,QAAUH,EAchB,OAbAI,YAAAL,EAAA,EAAAX,IAAA,uBAAAvE,MAAA,SAEoBwF,GACnB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAM,yCAAA5I,OAAYwI,EAAIK,WACtC,CAAAtB,IAAA,YAAAvE,MAAA,WAEW,IAAA8F,EAAAT,KACV,OAAOU,MAAMV,KAAKC,SAASU,KAAK,SAACR,GAC/B,OAAOM,EAAKG,qBAAqBT,SAEpCN,EAhBY,GAmBG,CAAc,CAC9BC,OAAQ,iDCwFKe,MAlGf,SAAehK,GAKZ,IAJDqB,EAAUrB,EAAVqB,WACAkD,EAAcvE,EAAduE,eACAC,EAAiBxE,EAAjBwE,kBACAC,EAAYzE,EAAZyE,aAAYtE,EAEsBC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAzC0C,EAASxC,EAAA,GAAE4J,EAAY5J,EAAA,GAAAwH,EACIlH,IAAMP,UAAS,GAAM0H,EAAAxH,YAAAuH,EAAA,GAAhDqC,EAASpC,EAAA,GAAEqC,EAAYrC,EAAA,GAAAsC,EACJzJ,IAAMP,SAAS,IAAGiK,EAAA/J,YAAA8J,EAAA,GAArC9C,EAAK+C,EAAA,GAAEC,EAAQD,EAAA,GAAAE,EACoBnK,mBAAS,IAAGoK,EAAAlK,YAAAiK,EAAA,GAA/C7B,EAAa8B,EAAA,GAAEC,EAAgBD,EAAA,GAAAE,EACAtK,mBAAS,IAAGuK,EAAArK,YAAAoK,EAAA,GAA3CtH,EAAWuH,EAAA,GAAEC,EAAcD,EAAA,GAAAE,EACIzK,oBAAS,GAAM0K,EAAAxK,YAAAuK,EAAA,GAA9CrD,EAAWsD,EAAA,GAAEC,EAAcD,EAAA,GA2DlC,OAzDArK,oBAAU,WACR,IAAMuK,EAAiBC,KAAKC,MAAMC,aAAaC,QAAQ,mBACnDJ,IACFP,EAAiBO,EAAe1D,OAChCsD,EAAeI,EAAe5H,aAC9B6G,EAAae,EAAelI,WAE7B,IAmDDnC,IAAAC,cAAAD,IAAAgB,SAAA,KACEhB,IAAAC,cAACQ,EAAM,CAACC,WAAYA,IACpBV,IAAAC,cAAA,YACED,IAAAC,cAACqC,EAAU,CACTC,aA3CR,SAAsBY,GACpB,GAAqB,IAAjBwD,EAAMa,OAIR,OAHAK,QAAQC,IAAInB,EAAMa,QAClB4C,GAAe,GACfZ,GAAa,GAbRpB,EACJsC,YACAvB,KAAK,SAACR,GAEL,OADAgB,EAAShB,GACFA,IAERgC,MAAM,SAACC,GAAG,OAAK/C,QAAQgD,MAAMD,KAS3BzB,KAAK,SAACR,GACLmB,EAAiBlC,EAAOe,EAAKxF,EAAOjB,IACpCsI,aAAaM,QACX,iBACAR,KAAKS,UAAU,CACbpE,MAAOiB,EAAOe,EAAKxF,EAAOjB,GAC1BO,YAAaU,EACbhB,QAASD,OAId8I,QAAQ,WACPxB,GAAa,GACbY,GAAe,KAGnBN,EAAiBlC,EAAOjB,EAAOxD,EAAOjB,IACtCsI,aAAaM,QACX,iBACAR,KAAKS,UAAU,CACbpE,MAAOiB,EAAOjB,EAAOxD,EAAOjB,GAC5BO,YAAaU,EACbhB,QAASD,MAgBTA,UAAWA,EACXM,qBAXR,WACE8G,GAAcpH,IAWRO,YAAaA,IAEd8G,EACCvJ,IAAAC,cAAC0H,EAAS,MAEV3H,IAAAC,cAACyG,EAAc,CACbC,MAAOoB,EACPnB,cAAc,WACdC,YAAaA,EACbjD,eAAgBA,EAChBC,kBAAmBA,EACnBC,aAAcA,KAIpB9D,IAAAC,cAAC6B,EAAM,cCtDEmJ,MAzCf,SAAoB5L,GAKjB,IAJDqB,EAAUrB,EAAVqB,WACAiG,EAAKtH,EAALsH,MACA7C,EAAYzE,EAAZyE,aACAD,EAAiBxE,EAAjBwE,kBAAiBrE,EAEyBC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAAjDuI,EAAarI,EAAA,GAAEoK,EAAgBpK,EAAA,GAAAkK,EACJnK,oBAAS,GAAKoK,EAAAlK,YAAAiK,EAAA,GAAzC1H,EAAS2H,EAAA,GAAEP,EAAYO,EAAA,GAAAE,EACQtK,oBAAS,GAAMuK,EAAArK,YAAAoK,EAAA,GAA9ClD,EAAWmD,EAAA,GAAEI,EAAcJ,EAAA,GAWlC,OACEhK,IAAAC,cAAAD,IAAAgB,SAAA,KACEhB,IAAAC,cAACQ,EAAM,CAACC,WAAYA,IACpBV,IAAAC,cAAA,YACED,IAAAC,cAACqC,EAAU,CACTC,aAdR,SAAsBY,GACpB2G,EAAiBlC,EAAOjB,EAAOxD,EAAOjB,IACtCkI,GAAe,IAaTlI,UAAWA,EACXM,qBAXR,WACE8G,GAAcpH,MAYVlC,IAAAC,cAACyG,EAAc,CACbE,cAAc,aACdD,MAAOoB,GAAiBpB,EACxB7C,aAAcA,EACdD,kBAAmBA,EACnBgD,YAAaA,KAGjB7G,IAAAC,cAAC6B,EAAM,cC7BN,SAASoJ,IAAwB,IAAAzB,EACVzJ,IAAMP,SAAS,IAAGiK,EAAA/J,YAAA8J,EAAA,GAAvC0B,EAAMzB,EAAA,GAAE0B,EAAS1B,EAAA,GAAA2B,EACIrL,IAAMP,SAAS,IAAG6L,EAAA3L,YAAA0L,EAAA,GAAvCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAAAG,EACMzL,IAAMP,UAAS,GAAMiM,EAAA/L,YAAA8L,EAAA,GAA5CE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAWpBG,EAAYC,sBAChB,WAAwD,IAAvDC,EAASC,UAAAxE,OAAA,QAAAyE,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIE,EAASF,UAAAxE,OAAA,QAAAyE,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIG,EAAUH,UAAAxE,OAAA,QAAAyE,IAAAD,UAAA,IAAAA,UAAA,GACzCZ,EAAUW,GACVP,EAAUU,GACVN,EAAWO,IAEb,CAACf,EAAWI,EAAWI,IAGzB,MAAO,CAAET,SAAQC,YAAWrF,aAlBP,SAACqG,GACpB,IAAMzK,EAASyK,EAAMzK,OACfuB,EAAOvB,EAAOuB,KACdC,EAAQxB,EAAOwB,MACrBiI,EAAShI,YAAA,GAAM+H,EAAM9H,YAAA,GAAGH,EAAOC,KAC/BqI,EAASpI,YAAA,GAAMmI,EAAMlI,YAAA,GAAGH,EAAOvB,EAAO0K,qBACtCT,EAAWjK,EAAO2K,QAAQ,QAAQC,kBAYMhB,SAAQI,UAASE,aCsD9CW,MAtFf,SAAgBnN,GAAkD,IAA/CqB,EAAUrB,EAAVqB,WAAY+L,EAAiBpN,EAAjBoN,kBAAmBC,EAAYrN,EAAZqN,aAC1CC,EAAc3M,IAAMkE,WAAWjF,GAAoB2N,EASrD1B,IANFC,EAAMyB,EAANzB,OACAC,EAASwB,EAATxB,UACArF,EAAY6G,EAAZ7G,aACA8F,EAASe,EAATf,UACAN,EAAMqB,EAANrB,OACAI,EAAOiB,EAAPjB,QAAOnM,EAEqBC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCuE,EAAOrE,EAAA,GAAEsE,EAAUtE,EAAA,GAiB1B,OAfAI,oBAAU,WACRsL,EAAU,CAAElI,KAAMyJ,EAAYzJ,KAAM2J,MAAOF,EAAYE,SACtD,CAACF,IAEJ7M,oBAAU,WACJ6M,GACFd,EAAUc,EAAa,IAAI,IAE5B,CAACA,EAAad,IAQf7L,IAAAC,cAAAD,IAAAgB,SAAA,KACEhB,IAAAC,cAACQ,EAAM,CAACC,WAAYA,IACpBV,IAAAC,cAAA,OAAKC,UAAU,WACbF,IAAAC,cAAA,MAAIC,UAAU,kBAAiB,yCAASyM,EAAYzJ,KAAK,KACzDlD,IAAAC,cAAA,QAAMC,UAAU,iBACdF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,SAAOC,UAAU,iBAAiBmC,QAAQ,aAAY,sBAGtDrC,IAAAC,cAAA,SACEC,UAAU,iBACVkC,SAAU2D,EACV5C,MAAOgI,EAAOjI,MAAQ,GACtB5B,GAAG,YACHf,KAAK,OACLkD,UAAU,IACVD,UAAU,KACVD,UAAQ,EACRL,KAAK,OACL4J,SAAW/I,EAAuB,GAAb,aAEvB/D,IAAAC,cAAA,QAAMC,UAAU,kBAAkBqL,EAAOrI,OAE3ClD,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,SAAOC,UAAU,iBAAiBmC,QAAQ,cAAa,UAGvDrC,IAAAC,cAAA,SACEC,UAAU,iBACVkC,SAAU2D,EACV5C,MAAOgI,EAAO0B,OAAS,GACvBvL,GAAG,aACHf,KAAK,QACLkD,UAAU,IACVD,UAAU,KACVD,UAAQ,EACRL,KAAK,QACL4J,SAAW/I,EAAuB,GAAb,aAEvB/D,IAAAC,cAAA,QAAMC,UAAU,kBAAkBqL,EAAOsB,SAG7C7M,IAAAC,cAAA,UACEC,UAAU,oBACVM,QAnDV,SAAsBsC,GACpBA,EAAEC,iBACF0J,EAAkBtB,EAAOjI,KAAMiI,EAAO0B,OACtC7I,GAAYD,IAiDJ+I,UAAWnB,GAET5H,EAA4B,yDAAlB,mFAGhB/D,IAAAC,cAAA,UAAQC,UAAU,oBAAoBM,QAASkM,GAAc,yGC6BtDK,MA7Gf,SAAiB1N,GAAmB,IAAjB2N,EAAc3N,EAAd2N,eAAcxN,EACOC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA9CqH,EAAWnH,EAAA,GAAE0K,EAAc1K,EAAA,GAAAkN,EAQ9B1B,IALFC,EAAMyB,EAANzB,OACApF,EAAY6G,EAAZ7G,aACAwF,EAAMqB,EAANrB,OACAI,EAAOiB,EAAPjB,QAUF,OATWiB,EAATf,UAUA7L,IAAAC,cAAA,OAAKC,UAAU,YACbF,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,cACED,IAAAC,cAACK,IAAI,CAACD,GAAG,IAAIH,UAAU,sBAAsBe,SAAO,GAClDjB,IAAAC,cAAA,OACEY,IAAKC,IACLZ,UAAU,iBACVa,IAAI,gFAIVf,IAAAC,cAAA,YACED,IAAAC,cAAA,MAAIC,UAAU,mBAAkB,gGAChCF,IAAAC,cAAA,QACEC,UAAU,iBACV2C,SAtBV,SAAsBC,GACpBA,EAAEC,iBACFiK,EAAe7B,EAAO8B,SAAU9B,EAAO0B,MAAO1B,EAAOjI,MACrDkH,GAAe,KAqBPpK,IAAAC,cAAA,SAAOC,UAAU,mBAAkB,qBAEjCF,IAAAC,cAAA,SACEiD,KAAK,OACL3C,KAAK,OACLL,UAAU,kBACVqD,UAAQ,EACRD,YAAY,qBACZG,UAAU,IACVD,UAAU,KACVL,MAAOgI,EAAOjI,MAAQ,GACtBd,SAAU2D,IAEZ/F,IAAAC,cAAA,QAAMC,UAAWqL,EAAOrI,MAAQ,mBAC7BqI,EAAOrI,MAAQ,KAGpBlD,IAAAC,cAAA,SAAOC,UAAU,mBAAkB,SAEjCF,IAAAC,cAAA,SACEC,UAAU,kBACVgD,KAAK,QACL3C,KAAK,QACLgD,UAAQ,EACRD,YAAY,SACZG,UAAU,IACVD,UAAU,KACVL,MAAOgI,EAAO0B,OAAS,GACvBzK,SAAU2D,IAEZ/F,IAAAC,cAAA,QAAMC,UAAWqL,EAAOsB,OAAS,mBAC9BtB,EAAOsB,OAAS,KAGrB7M,IAAAC,cAAA,SAAOC,UAAU,mBAAkB,uCAEjCF,IAAAC,cAAA,SACEC,UAAU,kBACVgD,KAAK,WACL3C,KAAK,WACLgD,UAAQ,EACRD,YAAY,uCACZG,UAAU,IACVD,UAAU,KACVL,MAAOgI,EAAO8B,UAAY,GAC1B7K,SAAU2D,IAEZ/F,IAAAC,cAAA,QAAMC,UAAWqL,EAAO0B,UAAY,mBACjC1B,EAAO0B,UAAY,KAGxBjN,IAAAC,cAAA,QAAMC,UAAU,iBACZyL,GAAW9E,EAAc,iGAAwB,IAErD7G,IAAAC,cAAA,UACEC,UAAU,gBACVK,KAAK,SACLuM,UAAWnB,GACZ,kHAKL3L,IAAAC,cAAA,UAAQC,UAAU,qBAChBF,IAAAC,cAAA,QAAMC,UAAU,qBAAoB,yHACpCF,IAAAC,cAACK,IAAI,CAACJ,UAAU,iBAAiBG,GAAG,UAAUY,SAAO,GAAC,4CCpBjDiM,MAhFf,SAAc7N,GAAkB,IAAf8N,EAAW9N,EAAX8N,YAAW3N,EACYC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA9CqH,EAAWnH,EAAA,GAAE0K,EAAc1K,EAAA,GAAAkN,EAO9B1B,IALFC,EAAMyB,EAANzB,OACApF,EAAY6G,EAAZ7G,aACAwF,EAAMqB,EAANrB,OACAI,EAAOiB,EAAPjB,QAUF,OATWiB,EAATf,UAUA7L,IAAAC,cAAA,OAAKC,UAAU,SACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,cACED,IAAAC,cAACK,IAAI,CAACD,GAAG,IAAIY,SAAO,EAACf,UAAU,oBAC7BF,IAAAC,cAAA,OAAKY,IAAKC,IAAMZ,UAAU,cAAca,IAAI,gFAGhDf,IAAAC,cAAA,YACED,IAAAC,cAAA,MAAIC,UAAU,gBAAe,kEAC7BF,IAAAC,cAAA,QAAMC,UAAU,cAAc2C,SAhBtC,SAAsBC,GACpBA,EAAEC,iBACFoK,EAAYhC,EAAO8B,SAAU9B,EAAO0B,OACpCzC,GAAe,KAcPpK,IAAAC,cAAA,SAAOC,UAAU,gBAAe,SAE9BF,IAAAC,cAAA,SACEC,UAAU,eACVgD,KAAK,QACL3C,KAAK,QACLgD,UAAQ,EACRD,YAAY,SACZG,UAAU,IACVD,UAAU,KACVL,MAAOgI,EAAO0B,OAAS,GACvBzK,SAAU2D,IAEZ/F,IAAAC,cAAA,QAAMC,UAAWqL,EAAOsB,OAAS,gBAC9BtB,EAAOsB,QAGZ7M,IAAAC,cAAA,SAAOC,UAAU,gBAAe,uCAE9BF,IAAAC,cAAA,SACEC,UAAU,kCACVgD,KAAK,WACL3C,KAAK,WACLgD,UAAQ,EACRD,YAAY,uCACZG,UAAU,IACVD,UAAU,KACVL,MAAOgI,EAAO8B,UAAY,GAC1B7K,SAAU2D,IAEZ/F,IAAAC,cAAA,QAAMC,UAAWqL,EAAO0B,UAAY,gBACjC1B,EAAO0B,WAGZjN,IAAAC,cAAA,QAAMC,UAAU,iBACZyL,GAAW9E,EAAc,iGAAwB,IAErD7G,IAAAC,cAAA,UAAQC,UAAU,aAAaK,KAAK,SAASuM,UAAWnB,GAAS,oCAKrE3L,IAAAC,cAAA,UAAQC,UAAU,kBAChBF,IAAAC,cAAA,QAAMC,UAAU,kBAAiB,qIACjCF,IAAAC,cAACK,IAAI,CAACJ,UAAU,cAAcG,GAAG,UAAUY,SAAO,GAAC,gFC9D9CmM,MAXf,WACE,IAAMC,EAAWC,cACjB,OACEtN,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,QAAMC,UAAU,oBAAmB,OACnCF,IAAAC,cAAA,MAAIC,UAAU,oBAAmB,4GACjCF,IAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAAS,kBAAM6M,GAAU,KAAI,kFCLvD,SAASE,GAAWlO,GAAiC,IAA9BmO,EAAOnO,EAAPmO,QAASC,EAAMpO,EAANoO,OAAQC,EAASrO,EAATqO,UACnD5N,oBAAU,WACN,GAAK2N,EAAL,CACA,IAAME,EAAgB,SAAC7K,GACP,WAAVA,EAAE4E,KACJ8F,KAKJ,OADAI,SAAS3H,iBAAiB,UAAW0H,GAC9B,kBAAMC,SAASzH,oBAAoB,UAAWwH,MACpD,CAACF,EAAQD,IAQZ,OACExN,IAAAC,cAAA,OACEC,UAAS,WAAAC,OAAasN,EAAS,iBAAmB,IAClDjN,QATkB,SAACsC,GACjBA,EAAEnB,SAAWmB,EAAE+K,eACjBL,MASAxN,IAAAC,cAAA,OAAKC,UAAU,sBACfF,IAAAC,cAAA,OACAC,UAAU,iBACVW,IAAK6M,EAAYI,KAAeC,KAChChN,IAAK2M,EAAY,sEAAiB,8EAEpC1N,IAAAC,cAAA,KAAGC,UAAU,kBACVwN,EACG,wKACA,uMAEF1N,IAAAC,cAAA,UAAQC,UAAU,qBAAqBK,KAAK,SAASC,QAASgN,UC+D3DQ,GAJH,IAnGH,WACP,SAAAC,EAAA5O,GAAwB,IAAViJ,EAAMjJ,EAANiJ,OAAMC,YAAAC,KAAAyF,GAClBzF,KAAKC,QAAUH,EA8FhB,OA7FAI,YAAAuF,EAAA,EAAAvG,IAAA,uBAAAvE,MAAA,SAEoBwF,GACnB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAM,yCAAA5I,OAAYwI,EAAIK,WACtC,CAAAtB,IAAA,SAAAvE,MAAA,WAEQ,IAAA8F,EAAAT,KACP,OAAOU,MAAMV,KAAKC,QAAU,WAAY,CACtCyF,YAAa,YACZ/E,KAAK,SAACR,GACP,OAAOM,EAAKG,qBAAqBT,OAEpC,CAAAjB,IAAA,cAAAvE,MAAA,WAEa,IAAAgL,EAAA3F,KACZ,OAAOU,MAAMV,KAAKC,QAAU,YAAa,CACvCyF,YAAa,YACZ/E,KAAK,SAACR,GACP,OAAOwF,EAAK/E,qBAAqBT,OAEpC,CAAAjB,IAAA,cAAAvE,MAAA,SAAAiL,GAE4B,IAAAC,EAAA7F,KAAftF,EAAIkL,EAAJlL,KAAM2J,EAAKuB,EAALvB,MAClB,OAAO3D,MAAMV,KAAKC,QAAU,YAAa,CACvC6F,OAAQ,QACRC,QAAS,CACPC,eAAgB,oBAElBN,YAAa,UACbO,KAAMnE,KAAKS,UAAU,CACnB7H,KAAMA,EACN2J,MAAOA,MAER1D,KAAK,SAACR,GACP,OAAO0F,EAAKjF,qBAAqBT,OAEpC,CAAAjB,IAAA,iBAAAvE,MAAA,WAEgB,IAAAuL,EAAAlG,KACf,OAAOU,MAAMV,KAAKC,QAAU,UAAW,CACrCyF,YAAa,YACZ/E,KAAK,SAACR,GACP,OAAO+F,EAAKtF,qBAAqBT,OAEpC,CAAAjB,IAAA,YAAAvE,MAAA,SAAAwL,GAcE,IAAAC,EAAApG,KAXDrE,EAAOwK,EAAPxK,QACAC,EAAQuK,EAARvK,SACAC,EAAQsK,EAARtK,SACAC,EAAIqK,EAAJrK,KACAC,EAAWoK,EAAXpK,YACAK,EAAK+J,EAAL/J,MACAJ,EAAWmK,EAAXnK,YACAM,EAAS6J,EAAT7J,UACAH,EAAOgK,EAAPhK,QACAF,EAAMkK,EAANlK,OACAC,EAAMiK,EAANjK,OAEA,OAAOwE,MAAMV,KAAKC,QAAU,UAAW,CACrC6F,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBN,YAAa,UACbO,KAAMnE,KAAKS,UAAU,CACnB5G,UACAC,WACAC,WACAC,OACAC,cACAK,QACAJ,cACAM,YACAH,UACAF,SACAC,aAEDyE,KAAK,SAACR,GACP,OAAOiG,EAAKxF,qBAAqBT,OAEpC,CAAAjB,IAAA,cAAAvE,MAAA,SAEW0L,GAAQ,IAAAC,EAAAtG,KAClB,OAAOU,MAAMV,KAAKC,QAAU,WAAaoG,EAAQ,CAC/CP,OAAQ,SACRJ,YAAa,YACZ/E,KAAK,SAACR,GACP,OAAOmG,EAAK1F,qBAAqBT,SAEpCsF,EAhGM,GAmGG,CAAQ,CAClB3F,OAAQ,mDCpGGyG,GAAW,iDAGxB,SAAS3F,GAAqBT,GAC5B,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAM,yCAAA5I,OAAYwI,EAAIK,SAGhC,IAAMgG,GAAW,SAAC/B,EAAUJ,EAAO3J,GACxC,OAAOgG,MAAK,GAAA/I,OAAI4O,GAAQ,WAAW,CACjCT,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBN,YAAa,UACbO,KAAMnE,KAAKS,UAAU,CAAEkC,WAAUJ,QAAO3J,WACvCiG,KAAK,SAACR,GACP,OAAOS,GAAqBT,MAInBsG,GAAY,SAAChC,EAAUJ,GAClC,OAAO3D,MAAK,GAAA/I,OAAI4O,GAAQ,WAAW,CACjCT,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBN,YAAa,UACbO,KAAMnE,KAAKS,UAAU,CAAEkC,WAAUJ,YAChC1D,KAAK,SAACR,GACP,OAAOS,GAAqBT,MAInBuG,GAAa,WACtB,OAAOhG,MAAK,GAAA/I,OAAI4O,GAAQ,aAAa,CACnCT,OAAQ,MACRC,QAAS,CACPC,eAAgB,oBAElBN,YAAa,YAEd/E,KAAK,SAACR,GACL,OAAOS,GAAqBT,eCrCnBwG,GALe,SAAH9P,GAA6B,IAAvB+P,EAAO/P,EAAP+P,QAC/B,OADgDC,aAAAhQ,EAAA,aAExCqB,WAAa0O,EAAUpP,IAAAC,cAACqP,IAAQ,CAACjP,GAAG,IAAIY,SAAO,KCoO1CsO,OAxNf,WAAe,IAAArI,EAC6BlH,IAAMP,UAAS,GAAM0H,EAAAxH,YAAAuH,EAAA,GAAxDsI,EAAarI,EAAA,GAAEsI,EAAgBtI,EAAA,GAAAsC,EACJzJ,IAAMP,UAAS,GAAMiK,EAAA/J,YAAA8J,EAAA,GAAhDiE,EAAShE,EAAA,GAAEgG,EAAYhG,EAAA,GAAA2B,EACQrL,IAAMP,SAAS,IAAG6L,EAAA3L,YAAA0L,EAAA,GAAjDsB,EAAWrB,EAAA,GAAEqE,EAAcrE,EAAA,GAAAG,EACEzL,IAAMP,UAAS,GAAMiM,EAAA/L,YAAA8L,EAAA,GAAlD/K,EAAUgL,EAAA,GAAEkE,EAAalE,EAAA,GAAAmE,EACI7P,IAAMP,SAAS,IAAGqQ,EAAAnQ,YAAAkQ,EAAA,GAA/CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAC1BzC,EAAWC,cAUjB,SAAS2C,IACPjC,GACGiC,iBACA9G,KAAK,SAACR,GACLqH,EAAcrH,KAEfgC,MAAM,SAACC,GAAG,OAAK/C,QAAQgD,MAAMD,KAiClC,SAASsF,IACPC,KAEGhH,KAAK,SAACR,GACDA,IACFiH,GAAc,GACdvC,EAAS,IAAK,CAAEpM,SAAS,IACzB0O,EAAehH,MAGlBgC,MAAM,SAACC,GACNgF,GAAc,GACd/H,QAAQgD,MAAMD,KAuCpB,SAAS/G,EAAkBF,GACzBqK,GACGoC,YAAYzM,EAAKuB,KACjBiE,KAAK,WACJ6G,EAAc,SAACK,GACb,OAAOA,EAAMzI,OAAO,SAAC0I,GACnB,OAAOA,EAAKpL,MAAQvB,EAAKuB,UAI9ByF,MAAM,SAACC,GAAG,OAAK/C,QAAQgD,MAAMD,KAiClC,OA7IA9K,oBAAU,WACRoQ,KACC,IAEHpQ,oBAAU,WACRmQ,KACC,IAwIDjQ,IAAAC,cAAChB,EAAmBsR,SAAQ,CAACpN,MAAOwJ,GAClC3M,IAAAC,cAACd,EAAmBoR,SAAQ,CAACpN,MAAO4M,GACpC/P,IAAAC,cAAA,OAAKC,UAAU,QACbF,IAAAC,cAACuQ,IAAM,KACLxQ,IAAAC,cAACwQ,IAAK,CAACC,KAAK,IAAItB,QAASpP,IAAAC,cAAC8B,EAAI,CAACrB,WAAYA,MAC3CV,IAAAC,cAACwQ,IAAK,CACJC,KAAK,UACLtB,QACEpP,IAAAC,cAACkP,GAAqB,CACpBC,QACEpP,IAAAC,cAACoJ,EAAM,CACL3I,WAAYA,EACZkD,eA3FlB,SAAsBvE,GAYnB,IAXD8E,EAAO9E,EAAP8E,QACAC,EAAQ/E,EAAR+E,SACAC,EAAQhF,EAARgF,SACAC,EAAIjF,EAAJiF,KACAC,EAAWlF,EAAXkF,YACAK,EAAKvF,EAALuF,MACAJ,EAAWnF,EAAXmF,YACAM,EAASzF,EAATyF,UACAH,EAAOtF,EAAPsF,QACAF,EAAMpF,EAANoF,OACAC,EAAMrF,EAANqF,OAEAsJ,GACG2C,UAAU,CACTxM,UACAC,WACAC,WACAC,OACAC,cACAK,QACAJ,cACAM,YACAH,UACAF,SACAC,WAEDyE,KAAK,SAACR,GACLsH,MAEDtF,MAAM,SAACC,GACN/C,QAAQgD,MAAMD,MA6DF/G,kBAAmBA,EACnBC,cAAc,EACdiM,WAAYA,IAGhBrP,WAAYA,MAIlBV,IAAAC,cAACwQ,IAAK,CACJC,KAAK,gBACLtB,QACEpP,IAAAC,cAACkP,GAAqB,CACpBC,QACEpP,IAAAC,cAACgL,EAAW,CAACvK,WAAYA,EAAYiG,MAAOoJ,EAAYjM,cAAc,EAAMD,kBAAmBA,IAEjGnD,WAAYA,MAIlBV,IAAAC,cAACwQ,IAAK,CACJC,KAAK,WACLtB,QACEpP,IAAAC,cAACkP,GAAqB,CACpBC,QACEpP,IAAAC,cAACuM,EAAO,CACN9L,WAAYA,EACZ+L,kBAvElB,SAAqBvJ,EAAM2J,GACzBmB,GACG4C,YAAY,CAAE1N,KAAMA,EAAM2J,MAAOA,IACjC1D,KAAK,SAACR,GACLgH,EAAe,CAAEzM,KAAMyF,EAAIzF,KAAM2J,MAAOlE,EAAIkE,UAE7ClC,MAAM,SAACC,GACN/C,QAAQgD,MAAMD,MAiEF8B,aA7DlB,WACEsB,GACG6C,SACA1H,KAAK,WACJyG,GAAc,GACdpF,aAAasG,QACbzD,EAAS,IAAK,CAAEpM,SAAS,IACzB4G,QAAQC,IAAI,0JAEb6C,MAAM,SAACC,GACN/C,QAAQgD,MAAMD,QAsDNlK,WAAYA,MAIlBV,IAAAC,cAACwQ,IAAK,CACJC,KAAK,UACLtB,QAASpP,IAAAC,cAAC8M,EAAQ,CAACC,eA/K7B,SAAwBC,EAAUJ,EAAO3J,GACvC,OAAOiN,GACKlD,EAAUJ,EAAO3J,GAC1BiG,KAAK,WACJkE,EAAS,UAAW,CAAEpM,SAAS,IAC/BiP,IACAR,GAAa,GACbD,GAAiB,KAElB9E,MAAM,WACL+E,GAAa,GACbD,GAAiB,GACjBG,GAAc,UAqKZ5P,IAAAC,cAACwQ,IAAK,CAACC,KAAK,UAAUtB,QAASpP,IAAAC,cAACiN,EAAK,CAACC,YAjK9C,SAAqBF,EAAUJ,GAC7B,OAAOsD,GACMlD,EAAUJ,GACpB1D,KAAK,SAACR,GACLiH,GAAc,GACdvC,EAAS,UAAW,CAAEpM,SAAS,IAC/BiP,MAEDvF,MAAM,WACL+E,GAAa,GACbD,GAAiB,UAwJfzP,IAAAC,cAACwQ,IAAK,CAACC,KAAK,IAAItB,QAASpP,IAAAC,cAACmN,EAAQ,SAEpCpN,IAAAC,cAACsN,GAAW,CACVC,QA9De,WACrBiC,GAAiB,GACjBC,GAAa,IA6DPjC,OAAQ+B,EACR9B,UAAWA,QC3NRqD,IAASC,WAAWpD,SAASqD,eAAe,SACpDC,OACHlR,IAAAC,cAACD,IAAMmR,WAAU,KACfnR,IAAAC,cAACmR,IAAa,KACZpR,IAAAC,cAACsP,GAAG","file":"static/js/main.800d1b4c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_main-1.f43312f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.c04e6559.svg\";","module.exports = __webpack_public_path__ + \"static/media/student.1ec56c8d.png\";","module.exports = __webpack_public_path__ + \"static/media/Success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Fale.4072126c.svg\";","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SavedMoviesContext = createContext();\r\n","import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport \"./Navigation.css\";\r\nimport {NavLink, Link} from \"react-router-dom\";\r\n\r\nfunction Navigation({handleClose, activeItem}) {\r\n    const [isTransition, setIsTransition] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        setTimeout(() => {\r\n            setIsTransition(true);\r\n         }, 500);\r\n    }, [])\r\n\r\n    return(\r\n        <nav className={`nav ${isTransition && \"nav_active\"}`}>\r\n            <ul className=\"nav__list\">\r\n            <li className=\"nav__item\">\r\n            <NavLink className=\"nav__link\" to=\"/\">Главная</NavLink>\r\n            </li>\r\n            <li className=\"nav__item\">\r\n            <NavLink className={`nav__link ${activeItem === \"фильмы\" && \"nav__link_active\"}`} to=\"/movies\">Фильмы</NavLink>\r\n            </li>\r\n            <li className=\"nav__item\">\r\n            <NavLink className={`nav__link ${activeItem === \"сохрФильмы\" && \"nav__link_active\"}`} to=\"/saved-movies\">Сохранённые фильмы</NavLink>\r\n            </li>\r\n        </ul>\r\n        <Link className=\"nav__link_type_profile\" to=\"/profile\">Аккаунт</Link>\r\n        <button type=\"button\" className=\"nav__close-btn\" onClick={handleClose}></button>\r\n        </nav>\r\n        \r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\n\r\nfunction Header({ isLoggedIn }) {\r\n  const [isNav, setIsNav] = useState(false);\r\n  function handleBurgerClick() {\r\n    setIsNav(true);\r\n  }\r\n\r\n  function handleNavClose() {\r\n    setIsNav(false);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\">\r\n        <img src={logo} className=\"header__logo\" alt=\"Логотип сайта\"></img>\r\n      </Link>\r\n      {isLoggedIn ? (\r\n        <>\r\n          <div className=\"header__wrapper\">\r\n            <Link\r\n              className=\"header__link header__link_type_movies\"\r\n              to=\"/movies\"\r\n              replace\r\n            >\r\n              Фильмы\r\n            </Link>\r\n            <Link\r\n              className=\"header__link header__link_type_saved-movies\"\r\n              to=\"/saved-movies\"\r\n              replace\r\n            >\r\n              Сохранённые фильмы\r\n            </Link>\r\n          </div>\r\n          <Link\r\n            className=\"header__link header__link_type_profile\"\r\n            to=\"/profile\"\r\n            replace\r\n          >\r\n            Аккаунт\r\n          </Link>\r\n          <button className=\"burger\" onClick={handleBurgerClick}>\r\n            <span className=\"burger-line\"></span>\r\n            <span className=\"burger-line\"></span>\r\n            <span className=\"burger-line\"></span>\r\n          </button>\r\n          {isNav && (\r\n            <Navigation handleClose={handleNavClose} activeItem=\"фильмы\" />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <Link\r\n            className=\"header__link header__link_type_register\"\r\n            to=\"/signup\"\r\n            replace\r\n          >\r\n            Регистрация\r\n          </Link>\r\n          <Link\r\n            className=\"header__link header__link_type_signin\"\r\n            to=\"/signin\"\r\n            replace\r\n          >\r\n            Войти\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport AnchorLink from \"react-anchor-link-smooth-scroll\";\r\nimport \"./Promo.css\";\r\n\r\n\r\nfunction Promo() {\r\n  return (\r\n    <section className=\"promo\">\r\n      <div className=\"promo__content\">\r\n        <h1 className=\"promo__title\">\r\n          Учебный проект студента факультета Веб-разработки.\r\n        </h1>\r\n      <ul className=\"promo__list\">\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#project\" className=\"promo__link\">\r\n            О проекте\r\n          </AnchorLink>\r\n        </li>\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#techs\" className=\"promo__link\">\r\n            Технологии\r\n          </AnchorLink>\r\n        </li>\r\n        <li className=\"promo__item\">\r\n          <AnchorLink href=\"#aboutMe\" className=\"promo__link\">\r\n            Студент\r\n          </AnchorLink>\r\n        </li>\r\n      </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Promo;","import React from \"react\";\r\nimport \"./AboutProject.css\";\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className=\"project\" id=\"project\">\r\n      <h2 className=\"project__title\">О проекте</h2>\r\n      <div className=\"project__desc-wrapper\">\r\n        <div className=\"project__wrapper\">\r\n          <h3 className=\"project__subtitle\">\r\n            Дипломный проект включал 5 этапов\r\n          </h3>\r\n          <p className=\"project__description\">\r\n            Составление плана, работу над бэкендом, вёрстку, добавление\r\n            функциональности и финальные доработки.\r\n          </p>\r\n        </div>\r\n        <div className=\"project__wrapper\">\r\n          <h3 className=\"project__subtitle\">\r\n            На выполнение диплома ушло 5 недель\r\n          </h3>\r\n          <p className=\"project__description\">\r\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\r\n            соблюдать, чтобы успешно защититься.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"project__info\">\r\n        <div className=\"project__block\">\r\n          <span className=\"project__block-left\">1 неделя</span>\r\n          <span className=\"project__caption\">Back-end</span>\r\n        </div>\r\n        <div className=\"project__block\">\r\n          <span className=\"project__block-right\">4 недели</span>\r\n          <span className=\"project__caption\">Front-end</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import React from \"react\";\r\nimport \"./Techs.css\";\r\n\r\nfunction Techs() {\r\n  return (\r\n    <section className=\"techs\" id=\"techs\">\r\n      <h2 className=\"techs__title\">Технологии</h2>\r\n      <div className=\"techs__content\">\r\n        <h3 className=\"techs__subtitle\">7 технологий</h3>\r\n        <p className=\"techs__descr\">\r\n          На курсе веб-разработки мы освоили технологии, которые применили в\r\n          дипломном проекте.\r\n        </p>\r\n        <ul className=\"techs__list\">\r\n          <li className=\"techs__item\">HTML</li>\r\n          <li className=\"techs__item\">CSS</li>\r\n          <li className=\"techs__item\">JS</li>\r\n          <li className=\"techs__item\">React</li>\r\n          <li className=\"techs__item\">Git</li>\r\n          <li className=\"techs__item\">Express.js</li>\r\n          <li className=\"techs__item\">mongoDB</li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","import React from \"react\";\r\nimport \"./AboutMe.css\";\r\nimport photo from \"../../images/student.png\";\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className=\"about-me\" id=\"aboutMe\">\r\n      <h2 className=\"about-me__title\">Студент</h2>\r\n      <div className=\"about-me__content\">\r\n        <div className=\"about-me__block\">\r\n          <h3 className=\"about-me__subtitle\">Виталий</h3>\r\n          <span className=\"about-me__caption\">\r\n            Фронтенд-разработчик, 30 лет\r\n          </span>\r\n          <p className=\"about-me__descr\">\r\n            Я родился и живу в Саратове, закончил факультет экономики СГУ. У\r\n            меня есть жена и дочь. Я люблю слушать музыку, а ещё увлекаюсь\r\n            бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ\r\n            Контур». После того, как прошёл курс по веб-разработке, начал\r\n            заниматься фриланс-заказами и ушёл с постоянной работы.\r\n          </p>\r\n          <a\r\n            className=\"about-me__link\"\r\n            href=\"https://github.com/margaritaShevtsova\"\r\n          >\r\n            Github\r\n          </a>\r\n        </div>\r\n        <img className=\"about-me__image\" src={photo} alt=\"Фото студента\"></img>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","import React from \"react\";\r\nimport \"./Portfolio.css\";\r\nimport arrow from \"../../images/arrow.svg\";\r\n\r\nfunction Portfolio() {\r\n  return (\r\n    <section className=\"portfolio\">\r\n      <h2 className=\"portfolio__title\">Портфолио</h2>\r\n      <ul className=\"portfolio__list\">\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://margaritashevtsova.github.io/russian-travel/\"\r\n          >\r\n            <p className=\"portfolio__text\">Статичный сайт</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://margaritashevtsova.github.io/mesto\"\r\n          >\r\n            <p className=\"portfolio__text\">Адаптивный сайт</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n        <li className=\"portfolio__item\">\r\n          <a\r\n            className=\"portfolio__link\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://shevtsova.mesto.nomoredomains.xyz\"\r\n          >\r\n            <p className=\"portfolio__text\">Одностраничное приложение</p>\r\n            <img\r\n              className=\"portfolio__img\"\r\n              src={arrow}\r\n              alt=\"Стрелка перехода\"\r\n            />\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__descr\">\r\n        Учебный проект Яндекс.Практикум х BeatFilm.\r\n      </p>\r\n      <div className=\"footer__wrapper\">\r\n        <span className=\"footer__caption\">© 2020</span>\r\n        <div className=\"footer__block\">\r\n          <a className=\"footer__link\" href=\"https://practicum.yandex.ru\">\r\n            Яндекс.Практикум\r\n          </a>\r\n          <a\r\n            className=\"footer__link\"\r\n            href=\"https://github.com/margaritaShevtsova\"\r\n          >\r\n            Github\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header.js\";\r\nimport Promo from \"../Promo/Promo.js\"\r\nimport AboutProject from \"../AboutProject/AboutProject.js\";\r\nimport Techs from \"../Techs/Techs.js\";\r\nimport AboutMe from \"../AboutMe/AboutMe.js\";\r\nimport Portfolio from \"../Portfolio/Portfolio.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\n\r\nfunction Main({isLoggedIn}) {\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn}/>\r\n      <main>\r\n      <Promo/>\r\n      <AboutProject/>\r\n      <Techs/>\r\n      <AboutMe/>\r\n      <Portfolio/>\r\n      </main>\r\n      <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./FilterCheckbox.css\";\r\n\r\nfunction FilterCheckbox({onHandleChange, isChecked}) {\r\n  return (\r\n    <div className=\"checkbox\">\r\n      <input\r\n        className=\"checkbox__input\"\r\n        id=\"check\"\r\n        type=\"checkbox\"\r\n        checked={isChecked}\r\n        onChange={onHandleChange}\r\n      />\r\n      <label htmlFor=\"check\" className=\"checkbox__label\">Короткометражки</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterCheckbox;","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\nimport { useState } from \"react\";\r\n\r\nfunction SearchForm({handleSearch, handleCheckboxChange, isChecked, searchValue}) {\r\n\r\n  const [formValue, setFormValue] = useState({search: searchValue});\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormValue({\r\n      ...formValue,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleSearch(formValue.search);\r\n  }\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <div className=\"search__container\">\r\n        <form className=\"search__form\" onSubmit={handleSubmit}>\r\n          <div className=\"search__wrapper\">\r\n            <input\r\n              defaultValue={searchValue}\r\n              onChange={handleChange}\r\n              className=\"search__input\"\r\n              name=\"search\"\r\n              type=\"text\"\r\n              placeholder=\"Фильм\"\r\n              required\r\n              maxLength=\"60\"\r\n              minLength=\"1\"\r\n            />\r\n            <button className=\"search__btn\" type=\"submit\"></button>\r\n          </div>\r\n          <FilterCheckbox onHandleChange={handleCheckboxChange} isChecked={isChecked}/>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { useEffect } from \"react\";\r\nimport { SavedMoviesContext } from \"../../contexts/CurrentUserContext\";\r\nimport \"./MoviesCard.css\";\r\nimport { useState } from \"react\";\r\n\r\nfunction MoviesCard({\r\n  card,\r\n  handleAddMovie,\r\n  handleDeleteMovie,\r\n  isSavedCards,\r\n}) {\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  const savedMovies = React.useContext(SavedMoviesContext);\r\n\r\n  function makeDurationFormat(duration) {\r\n    const hours = Math.floor(duration / 60);\r\n    const minutes = duration % 60;\r\n    return `${hours > 0 ? `${hours}ч` : \"\"} ${\r\n      minutes > 0 ? `${minutes}м` : \"\"\r\n    }`;\r\n  }\r\n\r\n  const {\r\n    country,\r\n    director,\r\n    duration,\r\n    year,\r\n    description,\r\n    trailerLink,\r\n    nameRU,\r\n    nameEN,\r\n  } = card;\r\n\r\n  const movieId = card.id;\r\n  const image = isSavedCards\r\n    ? card.image\r\n    : `https://api.nomoreparties.co${card.image.url}`;\r\n  const thumbnail = isSavedCards\r\n    ? card.thumbnail\r\n    : `https://api.nomoreparties.co${card.image.formats.thumbnail.url}`;\r\n\r\n  useEffect(() => {\r\n    if (card.id && savedMovies) {\r\n      savedMovies.map((movie) => {\r\n        if (movie.movieId === card.id) {\r\n          setIsSaved(true);\r\n          card._id = movie._id;\r\n        }\r\n      });\r\n    }\r\n  },[card]);\r\n\r\n  function handleClick() {\r\n    if (!isSaved && !isSavedCards) {\r\n      handleAddMovie({\r\n        country,\r\n        director,\r\n        duration,\r\n        year,\r\n        description,\r\n        image,\r\n        trailerLink,\r\n        thumbnail,\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n      });\r\n      setIsSaved(true);\r\n    } else {\r\n      handleDeleteMovie(card);\r\n      setIsSaved(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <a\r\n        className=\"card__link\"\r\n        href={card.trailerLink}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <img\r\n          className=\"card__image\"\r\n          src={\r\n            isSavedCards\r\n              ? image\r\n              : `https://api.nomoreparties.co${card.image.url}`\r\n          }\r\n          alt={card.nameRU}\r\n        />\r\n      </a>\r\n      <button\r\n        className={\r\n          !isSaved && !isSavedCards ? \"card__save-btn\" : \"card__save-btn_active\"\r\n        }\r\n        onClick={handleClick}\r\n      >\r\n        {!isSaved && !isSavedCards ? \"Сохранить\" : \"\"}\r\n      </button>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__name\">{card.nameRU}</h2>\r\n        <span className=\"card__descr\">{makeDurationFormat(card.duration)}</span>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport function useMediaQuery(query) {\r\n  const getMatches = (query) => {\r\n    if (typeof window !== \"undefined\") {\r\n      return window.matchMedia(query).matches;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const [matches, setMatches] = useState(getMatches(query));\r\n\r\n  function handleChange() {\r\n    setMatches(getMatches(query));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const matchMedia = window.matchMedia(query);\r\n\r\n    handleChange();\r\n\r\n    if (matchMedia.addListener) {\r\n      matchMedia.addListener(handleChange);\r\n    } else {\r\n      matchMedia.addEventListener(\"change\", handleChange);\r\n    }\r\n\r\n    return () => {\r\n      if (matchMedia.removeListener) {\r\n        matchMedia.removeListener(handleChange);\r\n      } else {\r\n        matchMedia.removeEventListener(\"change\", handleChange);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [query]);\r\n\r\n  return matches;\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport \"./MoviesCardList.css\";\r\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport { useMediaQuery } from \"../../hooks/useMediaQuery\";\r\n\r\nconst LG_ROW_CARD_COUNT = 3;\r\nconst MD_ROW_CARD_COUNT = 2;\r\nconst SM_ROW_CARD_COUNT = 2;\r\n\r\nconst LG_INITIAL_CARD_COUNT = 12;\r\nconst MD_INITIAL_CARD_COUNT = 8;\r\nconst SM_INITIAL_CARD_COUNT = 5;\r\n\r\nfunction MoviesCardList({ cards, cardsSettings, isSubmitted, handleAddMovie, handleDeleteMovie, isSavedCards }) {\r\n  const isDesktop = useMediaQuery(\"(min-width: 1260px)\");\r\n  const isTablet = useMediaQuery(\"(min-width: 768px)\");\r\n\r\n  const cardColumnCount = isDesktop\r\n    ? LG_ROW_CARD_COUNT\r\n    : isTablet\r\n    ? MD_ROW_CARD_COUNT\r\n    : SM_ROW_CARD_COUNT;\r\n\r\n  const initialCardCount = isDesktop\r\n    ? LG_INITIAL_CARD_COUNT\r\n    : isTablet\r\n    ? MD_INITIAL_CARD_COUNT\r\n    : SM_INITIAL_CARD_COUNT;\r\n\r\n  const [visibleCardCount, setVisibleCardCount] = React.useState(\r\n    initialCardCount\r\n  );\r\n\r\n  const roundedVisibleCardCount =\r\n    Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount;\r\n\r\n  const handleClick = () => {\r\n    calculateCardCount();\r\n  };\r\n\r\n  const calculateCardCount = () => {\r\n    if (isDesktop) {\r\n      return setVisibleCardCount(visibleCardCount + LG_ROW_CARD_COUNT);\r\n    }\r\n\r\n    if (isTablet) {\r\n      return setVisibleCardCount(visibleCardCount + MD_ROW_CARD_COUNT);\r\n    }\r\n\r\n    setVisibleCardCount(visibleCardCount + SM_ROW_CARD_COUNT);\r\n  };\r\n\r\n  return (\r\n    <section className=\"cards\">\r\n      <ul className=\"cards__list\">\r\n        {(cards.length === 0 && isSubmitted) ? (<span className=\"cards__statement\">Ничего не найдено</span>) \r\n        : cards.length > 0 && cards.slice(0, roundedVisibleCardCount).map((card) => (\r\n          <MoviesCard key={card.id || card.movieId} card={card} handleAddMovie={handleAddMovie} handleDeleteMovie={handleDeleteMovie} isSavedCards={isSavedCards}/>\r\n        ))}\r\n      </ul>\r\n      {roundedVisibleCardCount < cards.length && (\r\n        <button\r\n          className={`cards__btn ${cardsSettings !== \"allCards\" &&\r\n            \"cards__btn_visibility_hidden\"}`}\r\n          onClick={handleClick}\r\n        >\r\n          Ещё\r\n        </button>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import React from \"react\";\r\nimport \"./Preloader.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div className=\"preloader__container\">\r\n        <span className=\"preloader__round\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","function filterByName(cards, value) {\r\n  const filteredCards = cards.filter((card) => {\r\n    return (\r\n      card.nameRU.toLowerCase().includes(value.toLowerCase()) ||\r\n      card.nameEN.toLowerCase().includes(value.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return filteredCards;\r\n}\r\n\r\nfunction filterByDuration(cards, isChecked) {\r\n  const filteredCards = cards.filter((card) => {\r\n    if(isChecked) {\r\n      return card.duration <=40\r\n    } else {\r\n      return card;\r\n    }\r\n  });\r\n\r\n  return filteredCards;\r\n}\r\n\r\nexport function filter(cards, value, isChecked) {\r\n  console.log(cards);\r\n  let filteredCards = filterByDuration(cards, isChecked);\r\n  console.log(filteredCards);\r\n  return filterByName(filteredCards, value);\r\n}\r\n","class MoviesApi {\r\n  constructor({ adress }) {\r\n    this._adress = adress;\r\n  }\r\n\r\n  _checkResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getMovies() {\r\n    return fetch(this._adress).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst moviesApi = new MoviesApi({\r\n  adress: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n});\r\n\r\nexport default moviesApi;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Movies.css\";\r\nimport Header from \"../Header/Header\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport { filter } from \"../../utils/filter\";\r\nimport moviesApi from \"../../utils/MoviesApi\";\r\n\r\nfunction Movies({\r\n  isLoggedIn,\r\n  handleAddMovie,\r\n  handleDeleteMovie,\r\n  isSavedCards,\r\n}) {\r\n  const [isChecked, setIsChecked] = useState(true);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [filteredCards, setFilteredCards] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const searchSettings = JSON.parse(localStorage.getItem(\"searchSettings\"));\r\n    if (searchSettings) {\r\n      setFilteredCards(searchSettings.cards);\r\n      setSearchValue(searchSettings.searchValue);\r\n      setIsChecked(searchSettings.checked);\r\n    }\r\n  }, []);\r\n\r\n  function getAllMovies() {\r\n    return moviesApi\r\n      .getMovies()\r\n      .then((res) => {\r\n        setCards(res);\r\n        return res;\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  function handleSearch(value) {\r\n    if (cards.length === 0) {\r\n      console.log(cards.length);\r\n      setIsSubmitted(false);\r\n      setIsLoading(true);\r\n      return getAllMovies()\r\n        .then((res) => {\r\n          setFilteredCards(filter(res, value, isChecked));\r\n          localStorage.setItem(\r\n            \"searchSettings\",\r\n            JSON.stringify({\r\n              cards: filter(res, value, isChecked),\r\n              searchValue: value,\r\n              checked: isChecked,\r\n            })\r\n          );\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n          setIsSubmitted(true);\r\n        });\r\n    } else {\r\n      setFilteredCards(filter(cards, value, isChecked));\r\n      localStorage.setItem(\r\n        \"searchSettings\",\r\n        JSON.stringify({\r\n          cards: filter(cards, value, isChecked),\r\n          searchValue: value,\r\n          checked: isChecked,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleCheckboxChange() {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} />\r\n      <main>\r\n        <SearchForm\r\n          handleSearch={handleSearch}\r\n          isChecked={isChecked}\r\n          handleCheckboxChange={handleCheckboxChange}\r\n          searchValue={searchValue}\r\n        />\r\n        {isLoading ? (\r\n          <Preloader />\r\n        ) : (\r\n          <MoviesCardList\r\n            cards={filteredCards}\r\n            cardsSettings=\"allCards\"\r\n            isSubmitted={isSubmitted}\r\n            handleAddMovie={handleAddMovie}\r\n            handleDeleteMovie={handleDeleteMovie}\r\n            isSavedCards={isSavedCards}\r\n          />\r\n        )}\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","import React, {useState} from \"react\";\r\nimport \"./SavedMovies.css\";\r\nimport Header from \"../Header/Header\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport { filter } from \"../../utils/filter\";\r\n\r\nfunction SavedMovies({\r\n  isLoggedIn,\r\n  cards,\r\n  isSavedCards,\r\n  handleDeleteMovie,\r\n}) {\r\n  const [filteredCards, setFilteredCards] = useState(null);\r\n  const [isChecked, setIsChecked] = useState(true);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  function handleSearch(value) {\r\n    setFilteredCards(filter(cards, value, isChecked));\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  function handleCheckboxChange() {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} />\r\n      <main>\r\n        <SearchForm\r\n          handleSearch={handleSearch}\r\n          isChecked={isChecked}\r\n          handleCheckboxChange={handleCheckboxChange}\r\n        />\r\n        <MoviesCardList\r\n          cardsSettings=\"savedCards\"\r\n          cards={filteredCards || cards}\r\n          isSavedCards={isSavedCards}\r\n          handleDeleteMovie={handleDeleteMovie}\r\n          isSubmitted={isSubmitted}\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;\r\n","import React, { useCallback } from \"react\";\r\n\r\nexport function useForm() {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  return { values, handleChange, setValues };\r\n}\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, setValues, handleChange, errors, isValid, resetForm };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Profile.css\";\r\nimport Header from \"../Header/Header\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Profile({ isLoggedIn, handleSetUserInfo, handleLogout }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    handleChange,\r\n    resetForm,\r\n    errors,\r\n    isValid,\r\n  } = useFormWithValidation();\r\n  const [isSaved, setIsSaved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setValues({ name: currentUser.name, email: currentUser.email });\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm(currentUser, {}, true);\r\n    }\r\n  }, [currentUser, resetForm]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleSetUserInfo(values.name, values.email);\r\n    setIsSaved(!isSaved);\r\n  }\r\n  return (\r\n    <>\r\n      <Header isLoggedIn={isLoggedIn} />\r\n      <div className=\"profile\">\r\n        <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n        <form className=\"profile__form\">\r\n          <div className=\"profile__wrapper\">\r\n            <div className=\"profile__block\">\r\n              <label className=\"profile__label\" htmlFor=\"inputName\">\r\n                Имя\r\n              </label>\r\n              <input\r\n                className=\"profile__input\"\r\n                onChange={handleChange}\r\n                value={values.name || \"\"}\r\n                id=\"inputName\"\r\n                type=\"text\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n                name=\"name\"\r\n                disabled={!isSaved ? \"disabled\" : \"\"}\r\n              />\r\n              <span className=\"profile__error\">{errors.name}</span>\r\n            </div>\r\n            <div className=\"profile__block\">\r\n              <label className=\"profile__label\" htmlFor=\"inputEmail\">\r\n                E-mail\r\n              </label>\r\n              <input\r\n                className=\"profile__input\"\r\n                onChange={handleChange}\r\n                value={values.email || \"\"}\r\n                id=\"inputEmail\"\r\n                type=\"email\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required\r\n                name=\"email\"\r\n                disabled={!isSaved ? \"disabled\" : \"\"}\r\n              />\r\n              <span className=\"profile__error\">{errors.email}</span>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"profile__edit-btn\"\r\n            onClick={handleSubmit}\r\n            disabled={!isValid}\r\n          >\r\n            {!isSaved ? \"Редактировать\" : \"Сохранить\"}\r\n          </button>\r\n        </form>\r\n        <button className=\"profile__exit-btn\" onClick={handleLogout}>Выйти из аккаунта</button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Register({handleRegister}) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleRegister(values.password, values.email, values.name);\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"register__container\">\r\n        <header>\r\n          <Link to=\"/\" className=\"register__logo-link\" replace>\r\n            <img\r\n              src={logo}\r\n              className=\"register__logo\"\r\n              alt=\"Логотип сайта\"\r\n            ></img>\r\n          </Link>\r\n        </header>\r\n        <main>\r\n          <h2 className=\"register__title\">Добро пожаловать!</h2>\r\n          <form\r\n            className=\"register__form\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <label className=\"register__label\">\r\n              Имя\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"register__input\"\r\n                required\r\n                placeholder=\"Имя\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.name || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.name && \"register__error\"}>\r\n                {errors.name || \"\"}\r\n              </span>\r\n            </label>\r\n            <label className=\"register__label\">\r\n              E-mail\r\n              <input\r\n                className=\"register__input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                placeholder=\"E-mail\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.email || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.email && \"register__error\"}>\r\n                {errors.email || \"\"}\r\n              </span>\r\n            </label>\r\n            <label className=\"register__label\">\r\n              Пароль\r\n              <input\r\n                className=\"register__input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                placeholder=\"Пароль\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.password || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.password && \"register__error\"}>\r\n                {errors.password || \"\"}\r\n              </span>\r\n            </label>\r\n            <span className=\"input__error\">\r\n              {!isValid && isSubmitted ? \"Что-то пошло не так\" : \"\"}\r\n            </span>\r\n            <button\r\n              className=\"register__btn\"\r\n              type=\"submit\"\r\n              disabled={!isValid}\r\n            >\r\n              Зарегистрироваться\r\n            </button>\r\n          </form>\r\n        </main>\r\n        <footer className=\"register__wrapper\">\r\n          <span className=\"register__caption\">Уже зарегистрированы? </span>\r\n          <Link className=\"register__link\" to=\"/signin\" replace>\r\n            Войти\r\n          </Link>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport logo from \"../../images/logo_main-1.svg\";\r\nimport { useFormWithValidation } from \"../../hooks/useForm\";\r\n\r\nfunction Login({ handleLogin }) {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleLogin(values.password, values.email);\r\n    setIsSubmitted(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <header>\r\n          <Link to=\"/\" replace className=\"login__logo-link\">\r\n            <img src={logo} className=\"login__logo\" alt=\"Логотип сайта\"></img>\r\n          </Link>\r\n        </header>\r\n        <main>\r\n          <h2 className=\"login__title\">Рады видеть!</h2>\r\n          <form className=\"login__form\" onSubmit={handleSubmit}>\r\n            <label className=\"login__label\">\r\n              E-mail\r\n              <input\r\n                className=\"login__input\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                placeholder=\"E-mail\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.email || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.email && \"login__error\"}>\r\n                {errors.email}\r\n              </span>\r\n            </label>\r\n            <label className=\"login__label\">\r\n              Пароль\r\n              <input\r\n                className=\"login__input login__input_error\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                placeholder=\"Пароль\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                value={values.password || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n              <span className={errors.password && \"login__error\"}>\r\n                {errors.password}\r\n              </span>\r\n            </label>\r\n            <span className=\"input__error\">\r\n              {!isValid && isSubmitted ? \"Что-то пошло не так\" : \"\"}\r\n            </span>\r\n            <button className=\"login__btn\" type=\"submit\" disabled={!isValid}>\r\n              Войти\r\n            </button>\r\n          </form>\r\n        </main>\r\n        <footer className=\"login__wrapper\">\r\n          <span className=\"login__caption\">Ещё не зарегистрированы?</span>\r\n          <Link className=\"login__link\" to=\"/signup\" replace>\r\n            Регистрация\r\n          </Link>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport \"./NotFound.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction NotFound() {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"not-found\">\r\n      <span className=\"not-found__descr\">404</span>\r\n      <h2 className=\"not-found__title\">Страница не найдена</h2>\r\n      <button className=\"not-found__btn\" onClick={() => navigate(-1)}>Назад</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, {useEffect} from \"react\";\r\nimport successImage from \"../../images/Success.svg\";\r\nimport faleImage from \"../../images/Fale.svg\";\r\nimport \"./InfoToolTip.css\";\r\n\r\nexport default function InfoTooltip({ onClose, isOpen, isSuccess }) {\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n        const closeByEscape = (e) => {\r\n          if (e.key === \"Escape\") {\r\n            onClose();\r\n          }\r\n        };\r\n    \r\n        document.addEventListener(\"keydown\", closeByEscape);\r\n        return () => document.removeEventListener(\"keydown\", closeByEscape);\r\n      }, [isOpen, onClose]);\r\n    \r\n      const handleOverlay = (e) => {\r\n        if (e.target === e.currentTarget) {\r\n          onClose();\r\n        }\r\n      };\r\n\r\n      return (\r\n        <div\r\n          className={`tooltip ${isOpen ? \"tooltip_opened\" : \"\"}`}\r\n          onClick={handleOverlay}\r\n        >\r\n          <div className=\"tooltip__container\">\r\n          <img\r\n          className=\"tooltip__image\"\r\n          src={isSuccess ? successImage : faleImage}\r\n          alt={isSuccess ? \"Знак галочки\" : \"Знак крестика\"}\r\n        />\r\n        <p className=\"tooltip__descr\">\r\n          {isSuccess\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n        </p>\r\n            <button className=\"tooltip__close-btn\" type=\"button\" onClick={onClose} />\r\n          </div>\r\n        </div>\r\n      );\r\n  \r\n}","class Api {\r\n  constructor({ adress }) {\r\n    this._adress = adress;\r\n  }\r\n\r\n  _checkResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  logout() {\r\n    return fetch(this._adress + \"/signout\", {\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._adress + \"/users/me\", {\r\n      credentials: 'include',\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  setUserInfo({ name, email }) {\r\n    return fetch(this._adress + \"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n      }),\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  getSavedMovies() {\r\n    return fetch(this._adress + \"/movies\", {\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  postMovie({\r\n    country,\r\n    director,\r\n    duration,\r\n    year,\r\n    description,\r\n    image,\r\n    trailerLink,\r\n    thumbnail,\r\n    movieId,\r\n    nameRU,\r\n    nameEN,\r\n  }) {\r\n    return fetch(this._adress + \"/movies\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        country,\r\n        director,\r\n        duration,\r\n        year,\r\n        description,\r\n        image,\r\n        trailerLink,\r\n        thumbnail,\r\n        movieId,\r\n        nameRU,\r\n        nameEN,\r\n      }),\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  deleteMovie(cardId) {\r\n    return fetch(this._adress + \"/movies/\" + cardId, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    }).then((res) => {\r\n      return this._checkResponseStatus(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  adress: \"https://shevtsova.movies.nomoreparties.sbs/api\",\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = \"https://shevtsova.movies.nomoreparties.sbs/api\";\r\n\r\n\r\nfunction _checkResponseStatus(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nexport const register = (password, email, name) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ password, email, name }),\r\n  }).then((res) => {\r\n    return _checkResponseStatus(res);\r\n  });\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ password, email }),\r\n  }).then((res) => {\r\n    return _checkResponseStatus(res);\r\n  })\r\n};\r\n\r\nexport const getContent = () => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then((res) => {\r\n      return _checkResponseStatus(res);\r\n    });\r\n  };","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRouteElement = ({ element, ...props}) => {\r\n  return (\r\n    props.isLoggedIn ? element : <Navigate to=\"/\" replace/>\r\n)}\r\n\r\nexport default ProtectedRouteElement; ","import \"./App.css\";\nimport React, { useEffect } from \"react\";\nimport { CurrentUserContext, SavedMoviesContext } from \"../../contexts/CurrentUserContext\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Main from \"../Main/Main.js\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport Profile from \"../Profile/Profile\";\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport NotFound from \"../NotFound/NotFound\";\nimport InfoTooltip from \"../InfoToolTip/InfoToolTip\";\nimport api from \"../../utils/MainApi\";\nimport * as auth from \"../../utils/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProtectedRouteElement from \"../ProtectedRoute/ProtectedRoute\";\n\nfunction App() {\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [savedCards, setSavedCards] = React.useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    getUserContent();\n  }, []);\n\n  useEffect(() => {\n    getSavedMovies();\n  }, []);\n\n  function getSavedMovies() {\n    api\n      .getSavedMovies()\n      .then((res) => {\n        setSavedCards(res);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleRegister(password, email, name) {\n    return auth\n      .register(password, email, name)\n      .then(() => {\n        navigate(\"/signin\", { replace: true });\n        getUserContent();\n        setIsSuccess(true);\n        setIsTooltipOpen(true);\n      })\n      .catch(() => {\n        setIsSuccess(false);\n        setIsTooltipOpen(true);\n        setIsLoggedIn(false);\n      });\n  }\n\n  function handleLogin(password, email) {\n    return auth\n      .authorize(password, email)\n      .then((res) => {\n        setIsLoggedIn(true);\n        navigate(\"/movies\", { replace: true });\n        getUserContent();\n      })\n      .catch(() => {\n        setIsSuccess(false);\n        setIsTooltipOpen(true);\n      });\n  }\n\n  function getUserContent() {\n    auth\n      .getContent()\n      .then((res) => {\n        if (res) {\n          setIsLoggedIn(true);\n          navigate(\"/\", { replace: true });\n          setCurrentUser(res);\n        }\n      })\n      .catch((err) => {\n        setIsLoggedIn(false);\n        console.error(err);\n      });\n  }\n\n  function addSavedMovie({\n    country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailerLink,\n    thumbnail,\n    movieId,\n    nameRU,\n    nameEN,\n  }) {\n    api\n      .postMovie({\n        country,\n        director,\n        duration,\n        year,\n        description,\n        image,\n        trailerLink,\n        thumbnail,\n        movieId,\n        nameRU,\n        nameEN,\n      })\n      .then((res) => {\n        getSavedMovies();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleDeleteMovie(card) {\n    api\n      .deleteMovie(card._id)\n      .then(() => {\n        setSavedCards((state) => {\n          return state.filter((item) => {\n            return item._id !== card._id;\n          });\n        });\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function setUserInfo(name, email) {\n    api\n      .setUserInfo({ name: name, email: email })\n      .then((res) => {\n        setCurrentUser({ name: res.name, email: res.email });\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleLogout() {\n    api\n      .logout()\n      .then(() => {\n        setIsLoggedIn(false);\n        localStorage.clear();\n        navigate(\"/\", { replace: true });\n        console.log(\"Вы успешно вышли из аккаунта\");\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const closeAllPopups = () => {\n    setIsTooltipOpen(false);\n    setIsSuccess(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SavedMoviesContext.Provider value={savedCards}>\n      <div className=\"page\">\n        <Routes>\n          <Route path=\"/\" element={<Main isLoggedIn={isLoggedIn} />} />\n          <Route\n            path=\"/movies\"\n            element={\n              <ProtectedRouteElement\n                element={\n                  <Movies\n                    isLoggedIn={isLoggedIn}\n                    handleAddMovie={addSavedMovie}\n                    handleDeleteMovie={handleDeleteMovie}\n                    isSavedCards={false}\n                    savedCards={savedCards}\n                  />\n                }\n                isLoggedIn={isLoggedIn}\n              />\n            }\n          />\n          <Route\n            path=\"/saved-movies\"\n            element={\n              <ProtectedRouteElement\n                element={\n                  <SavedMovies isLoggedIn={isLoggedIn} cards={savedCards} isSavedCards={true} handleDeleteMovie={handleDeleteMovie}/>\n                }\n                isLoggedIn={isLoggedIn}\n              />\n            }\n          />\n          <Route\n            path=\"/profile\"\n            element={\n              <ProtectedRouteElement\n                element={\n                  <Profile\n                    isLoggedIn={isLoggedIn}\n                    handleSetUserInfo={setUserInfo}\n                    handleLogout={handleLogout}\n                  />\n                }\n                isLoggedIn={isLoggedIn}\n              />\n            }\n          />\n          <Route\n            path=\"/signup\"\n            element={<Register handleRegister={handleRegister} />}\n          />\n          <Route path=\"/signin\" element={<Login handleLogin={handleLogin} />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n        <InfoTooltip\n          onClose={closeAllPopups}\n          isOpen={isTooltipOpen}\n          isSuccess={isSuccess}\n        />\n      </div>\n      </SavedMoviesContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./components/App/App.js\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}